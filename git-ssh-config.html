<!DOCTYPE html><html lang="en"><head><link href="https://unpkg.com/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet"><style type="text/css">.splide{border:2px solid var(--carousel-border-color);box-shadow:0 4px 8px var(--carousel-shadow-color);border-radius:var(--carousel-border-radius)}.splide__slide img{width:100%;height:100%;object-fit:contain}.carousel-container{visibility:inherit;margin-top:20px;margin-bottom:20px}.carousel-caption{min-height:2em;line-height:2em;text-align:center;font-size:.9em;font-style:italic;padding:6px;margin-left:auto;margin-right:auto}.splide__arrow{background:0 0;align-items:center;border:0;cursor:pointer;display:flex;height:5em;justify-content:center;position:absolute;top:50%;transform:translateY(-50%);width:5em;z-index:10}.splide__arrow:disabled{opacity:0}.splide__arrow--prev{left:0}.splide__arrow--next{right:0}.splide__arrow svg{fill:var(--carousel-arrow-color);height:2.5em;transition:fill .2s linear;width:2.5em}.splide__arrow:hover:not(:disabled) svg{fill:var(--carousel-arrow-hover-color)}.splide__arrow:focus-visible{outline:transparent;outline-offset:0}.splide.is-focus-in .splide__arrow:focus{outline:transparent;outline-offset:0}.splide__pagination__page:focus-visible{outline:transparent;outline-offset:0}.splide.is-focus-in .splide__pagination__page:focus{outline:transparent;outline-offset:0}.splide__pagination{bottom:1em;left:0;padding:0 1em;position:absolute;right:0;z-index:1}.splide__pagination__page{background:var(--carousel-pagination-color);border:0;border-radius:2.5px;display:inline-block;height:5px;margin:3px;width:20px;transition:background-color .2s linear}.splide__pagination__page.is-active{background:var(--carousel-pagination-active-color)}.splide__pagination__page:hover{background:var(--carousel-pagination-hover-color);cursor:pointer;opacity:.9}.splide__pagination__page::before{content:'';position:absolute;top:-18px;bottom:-18px;left:-4px;right:-4px}.splide__pagination__page.is-active::before{content:'';position:absolute;top:-12px;bottom:-12px;left:-1px;right:-1px}.zoomable{object-fit:contain}.zooming{max-width:90vw!important;max-height:90vh!important;object-fit:contain!important}</style><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><link rel="manifest" href="/en/images/site.webmanifest"><meta name="msvalidate.01" content="BE3DB9F22A0915AF3452024048D66934"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300italic,400,400italic,700,700italic%7CNoto+Serif:300,300italic,400,400italic,700,700italic%7CFira+Code:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-flash.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"siriusq.top","root":"/en/","images":"/en/images","scheme":"Gemini","darkmode":"auto","version":"8.20.0","exturl":false,"sidebar":{"position":"right","width_expanded":320,"width_dual_column":320,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":true,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><meta name="description" content="I just reinstalled the operating system and need to configure GitHub&#39;s SSH keys from scratch. Having to search for commands each time is quite tedious, so I decided to record the process for future r"><meta property="og:type" content="article"><meta property="og:title" content="GitHub SSH Remote Connection Configuration and GPG Commit Signature Verification"><meta property="og:url" content="https://siriusq.top/en/git-ssh-config.html"><meta property="og:site_name" content="Sirius"><meta property="og:description" content="I just reinstalled the operating system and need to configure GitHub&#39;s SSH keys from scratch. Having to search for commands each time is quite tedious, so I decided to record the process for future r"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://s2.loli.net/2024/11/11/FzTHiy4qCVkv8YP.webp"><meta property="og:image" content="https://s2.loli.net/2024/11/01/HlJdD1eEVkpKb9t.webp"><meta property="og:image" content="https://s2.loli.net/2024/11/01/nPZGXrUW8A1g9hJ.webp"><meta property="og:image" content="https://s2.loli.net/2024/11/01/iLGnxEgYCAS3aPF.webp"><meta property="og:image" content="https://s2.loli.net/2024/11/01/FjufLNEICXmiz1a.webp"><meta property="og:image" content="https://s2.loli.net/2024/11/01/FaXLpeGKdMJ7B2l.webp"><meta property="og:image" content="https://s2.loli.net/2024/11/01/uxEcXGkJRMd3IbA.webp"><meta property="og:image" content="https://s2.loli.net/2024/11/01/BpX36WignKmeNRq.webp"><meta property="og:image" content="https://s2.loli.net/2024/11/01/zYIiJBcFQ7uDsZp.webp"><meta property="og:image" content="https://s2.loli.net/2024/11/01/NhxMFgwC189fBGd.webp"><meta property="og:image" content="https://s2.loli.net/2024/11/01/m5BM31GLHw7KFUl.webp"><meta property="og:image" content="https://s2.loli.net/2024/11/11/ZHECzmjxFRTNScs.webp"><meta property="article:published_time" content="2024-11-01T13:43:24.000Z"><meta property="article:modified_time" content="2024-11-11T13:46:56.000Z"><meta property="article:author" content="Sirius"><meta property="article:tag" content="GitHub"><meta property="article:tag" content="SSH"><meta property="article:tag" content="GPG"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://s2.loli.net/2024/11/11/FzTHiy4qCVkv8YP.webp"><link rel="canonical" href="https://siriusq.top/en/git-ssh-config.html"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://siriusq.top/en/git-ssh-config.html","path":"git-ssh-config.html","title":"GitHub SSH Remote Connection Configuration and GPG Commit Signature Verification"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>GitHub SSH Remote Connection Configuration and GPG Commit Signature Verification | Sirius</title><script src="/en/live2d-widget/autoload.js"></script><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Sirius" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Sirius</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">May the Force be with you</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/en/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/en/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">112</span></a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">11</span></a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">78</span></a></li><li class="menu-item menu-item-tools"><a href="/en/tools/" rel="section"><i class="fa fa-screwdriver-wrench fa-fw"></i>Tools</a></li><li class="menu-item menu-item-switch-to-chinese"><a href="https://siriusq.top/" rel="section"><i class="fa fa-language fa-fw"></i>Switch to Chinese</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-Installation"><span class="nav-number">1.</span> <span class="nav-text">Git Installation</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SSH-Remote-Connection-Configuration"><span class="nav-number">2.</span> <span class="nav-text">SSH Remote Connection Configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#SSH-Key-Generation"><span class="nav-number">2.1.</span> <span class="nav-text">SSH Key Generation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Add-SSH-Key-to-Your-GitHub-Account"><span class="nav-number">2.2.</span> <span class="nav-text">Add SSH Key to Your GitHub Account</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Global-Git-Username-and-Email-Address-Configuration"><span class="nav-number">2.3.</span> <span class="nav-text">Global Git Username and Email Address Configuration</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Commit-Signature-Verification"><span class="nav-number">3.</span> <span class="nav-text">Commit Signature Verification</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#GPG-Key-Generation"><span class="nav-number">3.1.</span> <span class="nav-text">GPG Key Generation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Add-GPG-Key-to-Your-GitHub-Account"><span class="nav-number">3.2.</span> <span class="nav-text">Add GPG Key to Your GitHub Account</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Commit-Signature-Verification-Configuration"><span class="nav-number">3.3.</span> <span class="nav-text">Commit Signature Verification Configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Optional-Set-Up-GPG-Agent-Cache"><span class="nav-number">3.3.1.</span> <span class="nav-text">(Optional) Set Up GPG-Agent Cache</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Optional-Import-and-Trust-GitHub-Public-Key"><span class="nav-number">3.3.2.</span> <span class="nav-text">(Optional) Import and Trust GitHub Public Key</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Optional-VS-Code-Configuration"><span class="nav-number">3.3.3.</span> <span class="nav-text">(Optional) VS Code Configuration</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Multiple-Account-Configuration"><span class="nav-number">4.</span> <span class="nav-text">Multiple Account Configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#SSH-Key-Configuration"><span class="nav-number">4.1.</span> <span class="nav-text">SSH Key Configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Second-SSH-Key-Generation"><span class="nav-number">4.1.1.</span> <span class="nav-text">Second SSH Key Generation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Generate-SSH-Configuration-File"><span class="nav-number">4.1.2.</span> <span class="nav-text">Generate SSH Configuration File</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Add-SSH-Key-to-GitHub-Account"><span class="nav-number">4.1.3.</span> <span class="nav-text">Add SSH Key to GitHub Account</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Commit-Signature-Verification-1"><span class="nav-number">4.2.</span> <span class="nav-text">Commit Signature Verification</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Adjust-Git-Commands"><span class="nav-number">4.3.</span> <span class="nav-text">Adjust Git Commands</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Multiple-Accounts-Distinction"><span class="nav-number">5.</span> <span class="nav-text">Multiple Accounts Distinction</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Fast-Configuration-with-Batch-Processing"><span class="nav-number">5.1.</span> <span class="nav-text">Fast Configuration with Batch Processing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Conditional-Includes"><span class="nav-number">5.2.</span> <span class="nav-text">Conditional Includes</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Path-Matching"><span class="nav-number">5.2.1.</span> <span class="nav-text">Path Matching</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#URL-Matching"><span class="nav-number">5.2.2.</span> <span class="nav-text">URL Matching</span></a></li></ol></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Sirius" src="https://s2.loli.net/2022/05/23/kxtRKT4u71HXlUY.gif"><p class="site-author-name" itemprop="name">Sirius</p><div class="site-description" itemprop="description">Thread_sleep(1); //be nice to the CPU</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/en/archives/"><span class="site-state-item-count">78</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/en/categories/"><span class="site-state-item-count">11</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/en/tags/"><span class="site-state-item-count">112</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Siriusq" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Siriusq" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="/en/atom.xml" title="RSS Feed → &#x2F;atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i>RSS Feed</a> </span><span class="links-of-author-item"><a href="mailto:siriusq.top@outlook.com" title="E-Mail → mailto:siriusq.top@outlook.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span><span class="links-of-author-item"><a href="https://leetcode.com/Siriusq/" title="LeetCode → https:&#x2F;&#x2F;leetcode.com&#x2F;Siriusq&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-code fa-fw"></i>LeetCode</a></span></div><script src="/en/js/switch_limited.js"></script></div></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://siriusq.top/en/git-ssh-config.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://s2.loli.net/2022/05/23/kxtRKT4u71HXlUY.gif"><meta itemprop="name" content="Sirius"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sirius"><meta itemprop="description" content="Thread_sleep(1); //be nice to the CPU"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="GitHub SSH Remote Connection Configuration and GPG Commit Signature Verification | Sirius"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">GitHub SSH Remote Connection Configuration and GPG Commit Signature Verification</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2024-11-01 21:43:24" itemprop="dateCreated datePublished" datetime="2024-11-01T21:43:24+08:00">2024-11-01</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2024-11-11 21:46:56" itemprop="dateModified" datetime="2024-11-11T21:46:56+08:00">2024-11-11</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/Coding/" itemprop="url" rel="index"><span itemprop="name">Coding</span></a> </span></span><span class="post-meta-break"></span> <span class="post-meta-item" title="Word count in article"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">Word count in article: </span><span>4.3k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>16 mins.</span></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote class="blockquote-center">I just reinstalled the operating system and need to configure GitHub's SSH keys from scratch. Having to search for commands each time is quite tedious, so I decided to record the process for future reference.</blockquote><span id="more"></span><div class="note success"><p>About the operating system, Git version, and use case in this article:</p><ul><li>Windows 11 IoT Enterprise LTSC 24H2</li><li>git version 2.47.0.windows.1</li><li>Two GitHub accounts, both requiring SSH and GPG keys configuration</li></ul></div><div class="note warning"><ul><li><strong>All the commands used below are executed in Git Bash.</strong></li><li><strong>Content enclosed in angle brackets <code>&lt; &gt;</code> in the commands needs to be adjusted according to personal circumstances, such as the filename <code>&lt;Filename&gt;</code>. When adjusting, remove the angle brackets, meaning the commands should not contain any <code>&lt; &gt;</code>.</strong></li><li><strong>Please adjust the file paths, setting options, and other content in the text according to your actual situation.</strong></li></ul></div><h1 id="Git-Installation"><a href="#Git-Installation" class="headerlink" title="Git Installation"></a>Git Installation</h1><p>Since this is a freshly installed system, Git isn’t installed yet. So first, let’s download Git.</p><div class="link-grid"><div class="link-grid-container"><object class="link-grid-image" data="/images/link/download.webp"></object><p>Git</p><p>Download Git</p><a target="_blank" rel="noopener" href="https://git-scm.com/downloads"></a></div></div><p>After the installation, launch Git Bash.</p><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-2ref7d280"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="Launch Git Bash"><img data-src="https://s2.loli.net/2024/11/11/FzTHiy4qCVkv8YP.webp" alt="Launch Git Bash" class="zoomable"></li></ul></div></div><div id="carousel-caption-2ref7d280" class="carousel-caption"></div></div><h1 id="SSH-Remote-Connection-Configuration"><a href="#SSH-Remote-Connection-Configuration" class="headerlink" title="SSH Remote Connection Configuration"></a>SSH Remote Connection Configuration</h1><p>Next, configure the SSH key for remote connections.</p><h2 id="SSH-Key-Generation"><a href="#SSH-Key-Generation" class="headerlink" title="SSH Key Generation"></a>SSH Key Generation</h2><p>Use the <a target="_blank" rel="noopener" href="https://ed25519.cr.yp.to/">Ed25519</a> algorithm to generate an SSH key, replacing <code>&lt;your_email@example.com&gt;</code> with your primary GitHub email address.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t ed25519 -C <span class="string">&quot;&lt;your_email@example.com&gt;&quot;</span></span><br></pre></td></tr></table></figure><p>At this point, the system will prompt <code>Enter file in which to save the key</code> for selecting the key’s storage location. Press Enter to accept the default location <code>/c/Users/&lt;username&gt;/.ssh/id_ed25519</code>.</p><p>Then, you’ll see prompts for <code>Enter passphrase for &quot;/c/Users/&lt;username&gt;/.ssh/id_ed25519&quot; (empty for no passphrase):</code> and <code>Enter same passphrase again:</code> to set and confirm a passphrase for the key. <strong>You can press Enter twice to skip setting a passphrase.</strong> Note that if you do set a passphrase, you’ll need to enter it each time you perform <code>git push</code>, which may be inconvenient.</p><p>Finally, the system will output the key’s location, fingerprint, and other details. The complete output will look similar to the following:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Generating public/private ed25519 key pair.  </span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/c/Users/&lt;username&gt;/.ssh/id_ed25519):  </span><br><span class="line">Enter passphrase <span class="keyword">for</span> <span class="string">&quot;/c/Users/&lt;username&gt;/.ssh/id_ed25519&quot;</span> (empty <span class="keyword">for</span> no passphrase):  </span><br><span class="line">Enter same passphrase again:  </span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /c/Users/&lt;username&gt;/.ssh/id_ed25519  </span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /c/Users/&lt;username&gt;/.ssh/id_ed25519.pub  </span><br><span class="line">The key fingerprint is:  </span><br><span class="line">SHA256:jfalkjfstsdfgy &lt;your_email@example.com&gt;  </span><br><span class="line">The key<span class="string">&#x27;s randomart image is:  </span></span><br><span class="line"><span class="string">+--[ED25519 256]--+  </span></span><br><span class="line"><span class="string">| +*+*- |  </span></span><br><span class="line"><span class="string">| -*//- |  </span></span><br><span class="line"><span class="string">| /-/++/ |  </span></span><br><span class="line"><span class="string">| **/** |  </span></span><br><span class="line"><span class="string">| /+*/+ |  </span></span><br><span class="line"><span class="string">| //*+. |  </span></span><br><span class="line"><span class="string">| +-*/* |  </span></span><br><span class="line"><span class="string">| /*--/ |  </span></span><br><span class="line"><span class="string">| /*-**  |  </span></span><br><span class="line"><span class="string">+----[SHA256]-----+</span></span><br></pre></td></tr></table></figure><h2 id="Add-SSH-Key-to-Your-GitHub-Account"><a href="#Add-SSH-Key-to-Your-GitHub-Account" class="headerlink" title="Add SSH Key to Your GitHub Account"></a>Add SSH Key to Your GitHub Account</h2><p>After creating the SSH key pair, you need to add the public key to your GitHub account.</p><p>First, open the public key file with Notepad and copy all its contents.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">notepad ~/.ssh/id_ed25519.pub</span><br></pre></td></tr></table></figure><div class="note default"><p>In the <code>~/.ssh</code> directory (i.e., <code>C:\Users\&lt;username&gt;\.ssh</code>), you’ll find two files: <code>id_ed25519</code> and <code>id_ed25519.pub</code>. The former is the private key, and the latter is the public key. Only the public key needs to be added to your GitHub account—<strong>do not upload the private key online.</strong></p></div><p>Next, log in to your GitHub account in a browser and follow these steps: click your profile photo in the top right corner → <code>Settings</code> → <code>SSH and GPG keys</code> in the sidebar → <code>New SSH key</code> button in the top right.</p><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-mhg4qpu1g"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="Click your profile photo in the top right corner → Settings → SSH and GPG keys in the sidebar → New SSH key button in the top right"><img data-src="https://s2.loli.net/2024/11/01/HlJdD1eEVkpKb9t.webp" alt="Click your profile photo in the top right corner → Settings → SSH and GPG keys in the sidebar → New SSH key button in the top right" class="zoomable"></li></ul></div></div><div id="carousel-caption-mhg4qpu1g" class="carousel-caption"></div></div><p>In the <code>Title</code> field, enter a name to identify the key, making it easier to distinguish keys from different devices. Keep <code>Key type</code> set to the default <code>Authentication Key</code> option, and paste the copied public key into the <code>Key</code> field. Finally, click <code>Add SSH Key</code>.</p><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-doxn4dl90"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="Add SSH Key"><img data-src="https://s2.loli.net/2024/11/01/nPZGXrUW8A1g9hJ.webp" alt="Add SSH Key" class="zoomable"></li></ul></div></div><div id="carousel-caption-doxn4dl90" class="carousel-caption"></div></div><details class="note primary"><summary><p>Difference Between Authentication Key and Signing Key</p></summary><blockquote><p>Generated by ChatGPT:</p></blockquote><p>When adding SSH keys on GitHub, you’ll see two types of keys: Authentication Key and Signing Key. Here’s the difference between them:</p><ul><li><strong>Authentication Key</strong><ul><li><strong>Purpose</strong>: The Authentication Key is used for identity verification. It allows you to securely connect to GitHub via the SSH protocol, enabling you to perform actions such as <code>git push</code> and <code>git pull</code>.</li><li><strong>How It Works</strong>: When you connect to GitHub using an SSH URL (like <code>git@github.com:username/repo.git</code>), GitHub authenticates you using your SSH public key. You need to add this public key to your GitHub account to authenticate your identity through SSH.</li><li><strong>Usage Scenarios</strong>: All actions that require access to GitHub, such as cloning, pushing, and pulling code, use the Authentication Key.</li></ul></li><li><strong>Signing Key</strong><ul><li><strong>Purpose</strong>: The Signing Key is used to digitally sign commits, ensuring they were created by a specific user and adding credibility to the code.</li><li><strong>How It Works</strong>: When you make a commit, you can sign it using either a GPG or SSH key. This signature allows other developers to verify that the commit is genuinely from you and hasn’t been tampered with.</li><li><strong>Usage Scenarios</strong>: In projects where commit verification is important, especially in open-source projects, using a Signing Key adds an extra layer of security.</li></ul></li></ul></details><p>To verify that the configuration is successful, try connecting. If this is your first connection, you’ll see a prompt saying, <code>Are you sure you want to continue connecting (yes/no/[fingerprint])?</code> Type <code>yes</code> and press Enter.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>If configured successfully, the system will display the message: <code>Hi &lt;Username&gt;! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</code></p><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-9naneb9zy"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="Message"><img data-src="https://s2.loli.net/2024/11/01/iLGnxEgYCAS3aPF.webp" alt="Message" class="zoomable"></li></ul></div></div><div id="carousel-caption-9naneb9zy" class="carousel-caption"></div></div><h2 id="Global-Git-Username-and-Email-Address-Configuration"><a href="#Global-Git-Username-and-Email-Address-Configuration" class="headerlink" title="Global Git Username and Email Address Configuration"></a>Global Git Username and Email Address Configuration</h2><div class="note primary"><blockquote><p>Source: <a target="_blank" rel="noopener" href="https://docs.github.com/en/get-started/getting-started-with-git/setting-your-username-in-git">GitHub Docs</a></p></blockquote><p>You can change the name that is associated with your Git commits using the <code>git config</code> command. The new name you set will be visible in any future commits you push to GitHub from the command line. If you’d like to keep your real name private, you can use any text as your Git username.Changing the name associated with your Git commits using git config will only affect future commits and will not change the name used for past commits.</p><p>You can use the <code>git config</code> command to change the email address you associate with your Git commits. The new email address you set will be visible in any future commits you push to GitHub from the command line. Any commits you made prior to changing your commit email address are still associated with your previous email address.</p></div><p>Set the global username by replacing <code>&lt;Username&gt;</code> with your GitHub username.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;&lt;Username&gt;&quot;</span></span><br></pre></td></tr></table></figure><p>Set the global email address by replacing <code>&lt;your_email@example.com&gt;</code> with your primary GitHub email address.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email <span class="string">&quot;&lt;your_email@example.com&gt;&quot;</span></span><br></pre></td></tr></table></figure><p>These settings can also be modified in the file located at <code>C:\Users\&lt;Username&gt;\.gitconfig</code>.</p><h1 id="Commit-Signature-Verification"><a href="#Commit-Signature-Verification" class="headerlink" title="Commit Signature Verification"></a>Commit Signature Verification</h1><p>The SSH configuration is now complete, and you should be able to use commands like <code>git push</code> normally. However, without commit signature verification, our commits lack the “Verified” checkmark (the small green badge in the image below). Next, I’ll add a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/GNU_Privacy_Guard">GPG</a> key to my GitHub account and enable signature verification for my Git commits.</p><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-fgia4b22l"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="Verified checkmark"><img data-src="https://s2.loli.net/2024/11/01/FjufLNEICXmiz1a.webp" alt="Verified checkmark" class="zoomable"></li></ul></div></div><div id="carousel-caption-fgia4b22l" class="carousel-caption"></div></div><details class="note primary"><summary><p>Purpose of Commit Signature Verification</p></summary><blockquote><p>Generated by ChatGPT:</p></blockquote><p><strong>Q:</strong> Since we’ve already verified our identity with SSH keys during <code>push</code>, why do we need to verify commit signatures separately?<br><strong>A:</strong> Although SSH keys confirm your identity and authorize access to the remote repository, commit signatures serve distinct purposes:</p><ol><li><strong>Identity Verification vs. Commit Source Authentication</strong><ul><li><strong>SSH Key Verification</strong>: When you push using SSH, GitHub or GitLab checks if you have permission to push code. This process verifies identity but is focused on access control, ensuring you are an authorized user.</li><li><strong>Commit Signature</strong>: Signing verifies the source of each individual commit. It ensures that a given commit was genuinely created by the holder of the private key. Even if a malicious user gains access to your remote repository (e.g., by obtaining your SSH key), they still can’t forge signatures on previous commits.</li></ul></li><li><strong>Tamper Resistance</strong><ul><li><strong>SSH Key Verification</strong>: Verifies only access rights to the repository but doesn’t guarantee the integrity of each commit.</li><li><strong>Commit Signature</strong>: Guarantees the integrity of commit content. If a commit is altered, its signature will no longer be valid, alerting users to any modifications that compromise trustworthiness.</li></ul></li><li><strong>Enhanced Security</strong><ul><li>Commit signatures provide an additional security layer to defend against malicious activities, both internal and external. Even if an SSH key is compromised, signature verification helps ensure that the code’s integrity and origin remain secure.</li></ul></li></ol></details><details class="note success"><summary><p>Using SSH Keys for Signing</p></summary><p>There’s actually a shortcut: after adding your SSH key to your GitHub account, you can repeat the steps and change the key type from Authentication Key to Signing Key. This allows the SSH key to be used for commit signature verification without needing a separate GPG key—essentially one key serving dual roles. However, GPG keys offer a bit more functionality when used for signature verification, so I still opted to set up a GPG key.</p><p>To use an SSH key for signing, you’ll need to configure a few additional settings:</p><ul><li>Use <code>git config --global gpg.format ssh</code> to configure Git to use SSH for commit and tag signatures.</li><li>Use <code>git config --global user.signingkey ~/.ssh/&lt;your_ssh_key.pub&gt;</code> to specify the signing key in Git.</li></ul></details><h2 id="GPG-Key-Generation"><a href="#GPG-Key-Generation" class="headerlink" title="GPG Key Generation"></a>GPG Key Generation</h2><p>When Git is installed, GPG is typically included. You can check if GPG is installed by running the following command:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --version</span><br></pre></td></tr></table></figure><p>A successful check will return version information; if there’s an error, you may need to install GPG manually.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">gpg (GnuPG) 2.4.5-unknown  </span><br><span class="line">libgcrypt 1.9.4-unknown  </span><br><span class="line">Copyright (C) 2024 g10 Code GmbH  </span><br><span class="line">License GNU GPL-3.0-or-later &lt;https://gnu.org/licenses/gpl.html&gt;  </span><br><span class="line">This is free software: you are free to change and redistribute it.  </span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.  </span><br><span class="line">  </span><br><span class="line">Home: /c/Users/&lt;Username&gt;/.gnupg  </span><br><span class="line">Supported algorithms:  </span><br><span class="line">Pubkey: RSA, ELG, DSA, ECDH, ECDSA, EDDSA  </span><br><span class="line">Cipher: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,  </span><br><span class="line">CAMELLIA128, CAMELLIA192, CAMELLIA256  </span><br><span class="line">Hash: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224  </span><br><span class="line">Compression: Uncompressed, ZIP, ZLIB, BZIP2</span><br></pre></td></tr></table></figure><p>Now, generate a GPG key pair.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --full-generate-key</span><br></pre></td></tr></table></figure><p>The system will guide you through the key configuration:</p><ol><li>Choose encryption type: Press Enter to select the default ECC (Elliptic Curve Cryptography).</li><li>Select the encryption curve: Press Enter to choose the default Curve25519.</li><li>Choose the key expiration date: Press Enter to keep the default “No Expiration” setting.</li><li>Press “y” and Enter to confirm these selections.</li></ol><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-u05ivyu5z"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="GPG key pair configuration"><img data-src="https://s2.loli.net/2024/11/01/FaXLpeGKdMJ7B2l.webp" alt="GPG key pair configuration" class="zoomable"></li></ul></div></div><div id="carousel-caption-u05ivyu5z" class="carousel-caption"></div></div><p>Next, provide key information:</p><ol><li>Enter a name (optional), which can simply be your GitHub username.</li><li>Enter an email address—this must be the primary email linked to your GitHub account.</li><li>Enter a comment if desired (optional).</li><li>Press <code>O</code> and Enter to confirm.</li><li>In the Pinentry window that appears, set a password to protect your key, then enter it again to confirm. You’ll need this password to sign commits. If you prefer not to set a password, you can leave it blank.</li></ol><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-tz8j1bslg"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="Provide key information"><img data-src="https://s2.loli.net/2024/11/01/uxEcXGkJRMd3IbA.webp" alt="Provide key information" class="zoomable"></li></ul></div></div><div id="carousel-caption-tz8j1bslg" class="carousel-caption"></div></div><h2 id="Add-GPG-Key-to-Your-GitHub-Account"><a href="#Add-GPG-Key-to-Your-GitHub-Account" class="headerlink" title="Add GPG Key to Your GitHub Account"></a>Add GPG Key to Your GitHub Account</h2><p>Like SSH keys, we also need to add the GPG key’s public key to your GitHub account.</p><p>First, list the GPG keys on your system:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --list-secret-keys --keyid-format=long</span><br></pre></td></tr></table></figure><p>The output will look similar to this:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/c/Users/&lt;Username&gt;/.gnupg/pubring.kbx  </span><br><span class="line">----------------------------------  </span><br><span class="line">sec ed25519/21231BBF246642D21 2024-10-01 [SC]  </span><br><span class="line">16534564331BBDF314564321231 </span><br><span class="line">uid [ultimate] Name (Comments) &lt;your_email@example.com&gt;  </span><br><span class="line">ssb cv25519/652153215AB215621 2024-10-01 [E]</span><br></pre></td></tr></table></figure><p>It may look confusing, but the format is:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sec &lt;Algorithm&gt;/&lt;Key ID&gt; &lt;Creation Date&gt; [&lt;Usage&gt;]</span><br><span class="line">&lt;Public Key&gt;</span><br><span class="line">uid [ultimate] &lt;Key Name&gt; (&lt;Comments&gt;) &lt;Email Address&gt;</span><br><span class="line">ssb &lt;Algorithm&gt;/&lt;Key ID&gt; &lt;Creation Date&gt; [&lt;Usage&gt;]</span><br></pre></td></tr></table></figure><p>The key’s usage types are:</p><ul><li>S: Signing</li><li>E: Encryption</li><li>C: Certification</li></ul><p>We need to use the ID of the key with signing capabilities, which is the key ID from the line with the <code>[SC]</code> suffix, such as <code>21231BBF246642D21</code>, or the email address, to export the ASCII-encoded public key and automatically copy it to the clipboard using the command below.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --armor --<span class="built_in">export</span> &lt;Key ID or Email Address&gt; | clip</span><br></pre></td></tr></table></figure><p>Next, log in to your GitHub account and navigate as follows:</p><ol><li>Click on your profile photo in the upper-right corner → <code>Settings</code></li><li>In the left sidebar, click <code>SSH and GPG keys</code></li><li>Then click the <code>New GPG key</code> button on the right.</li></ol><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-7jfr0d0mc"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="Click on your profile photo in the upper-right corner → Settings → SSH and GPG keys in the left sidebar → New GPG key button on the right"><img data-src="https://s2.loli.net/2024/11/01/BpX36WignKmeNRq.webp" alt="Click on your profile photo in the upper-right corner → Settings → SSH and GPG keys in the left sidebar → New GPG key button on the right" class="zoomable"></li></ul></div></div><div id="carousel-caption-7jfr0d0mc" class="carousel-caption"></div></div><p>In the <code>Title</code> field, give your new signing key a label to help identify it across devices. In the <code>Key</code> field, paste the GPG public key you copied. Finally, click <code>Add GPG key</code> to complete the addition.</p><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-0rbpbkk95"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="In the Title field, give your new signing key a label to help identify it across devices. In the Key field, paste the GPG public key you copied. Finally, click Add GPG key to complete the addition"><img data-src="https://s2.loli.net/2024/11/01/zYIiJBcFQ7uDsZp.webp" alt="In the Title field, give your new signing key a label to help identify it across devices. In the Key field, paste the GPG public key you copied. Finally, click Add GPG key to complete the addition" class="zoomable"></li></ul></div></div><div id="carousel-caption-0rbpbkk95" class="carousel-caption"></div></div><h2 id="Commit-Signature-Verification-Configuration"><a href="#Commit-Signature-Verification-Configuration" class="headerlink" title="Commit Signature Verification Configuration"></a>Commit Signature Verification Configuration</h2><p>Finally, we need to configure the global GPG key.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.signingkey &lt;Key ID&gt;</span><br></pre></td></tr></table></figure><p>Additionally, to sign a commit, you need to add the <code>-S</code> option in the commit command. If you set a password for your GPG key earlier, a prompt will appear, asking you to enter it.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -S -m <span class="string">&quot;&lt;Commit Message&gt;&quot;</span></span><br></pre></td></tr></table></figure><p>(Optional) If you find it inconvenient to include the <code>-S</code> option each time, you can set Git to sign all commits by default, so you won’t need to use <code>-S</code> in each commit command.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global commit.gpgsign true</span><br></pre></td></tr></table></figure><h3 id="Optional-Set-Up-GPG-Agent-Cache"><a href="#Optional-Set-Up-GPG-Agent-Cache" class="headerlink" title="(Optional) Set Up GPG-Agent Cache"></a>(Optional) Set Up GPG-Agent Cache</h3><div class="note primary"><p>Reference:</p><ul><li><a target="_blank" rel="noopener" href="https://www.gnupg.org/documentation/manuals/gnupg-devel/Agent-Options.html">2.2 Option Summary @GPG Docs</a></li><li><a target="_blank" rel="noopener" href="https://www.zouht.com/2891.html">使用GPG对你的Git提交进行签名验证</a></li><li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/60482588/what-is-githubs-public-gpg-key">What is GitHub’s public GPG key?</a></li></ul></div><p>If you find entering the password for each commit inconvenient, you can set up a GPG-Agent cache duration so that you only need to enter the password once within the cache period.</p><p>First, create the configuration file in the <code>~/.gnupg</code> directory and open it with Notepad:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> ~/.gnupg/gpg-agent.conf &amp;&amp; notepad ~/.gnupg/gpg-agent.conf</span><br></pre></td></tr></table></figure><p>Paste the following configuration, then save and close the file:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">default-cache-ttl 604800</span><br><span class="line">max-cache-ttl 604800</span><br></pre></td></tr></table></figure><ul><li>The numbers are in seconds. Set reasonable values; for instance, initially setting a one-month cache duration (2,592,000 seconds) didn’t work for me, but a one-week duration (604,800 seconds) did.</li><li><code>default-cache-ttl n</code>: Set the time a cache entry is valid to n seconds. The default is 600 seconds. Each time a cache entry is accessed, the entry’s timer is reset. To set an entry’s maximum lifetime, use max-cache-ttl. Note that a cached passphrase may not be evicted immediately from memory if no client requests a cache operation. This is due to an internal housekeeping function which is only run every few seconds.</li><li><code>max-cache-ttl n</code>: Set the maximum time a cache entry is valid to n seconds. After this time a cache entry will be expired even if it has been accessed recently or has been set using gpg-preset-passphrase. The default is 2 hours (7200 seconds).</li></ul><h3 id="Optional-Import-and-Trust-GitHub-Public-Key"><a href="#Optional-Import-and-Trust-GitHub-Public-Key" class="headerlink" title="(Optional) Import and Trust GitHub Public Key"></a>(Optional) Import and Trust GitHub Public Key</h3><div class="note primary"><p>Reference</p><ul><li><a target="_blank" rel="noopener" href="https://www.zouht.com/2891.html">使用GPG对你的Git提交进行签名验证</a></li><li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/60482588/what-is-githubs-public-gpg-key">What is GitHub’s public GPG key?</a></li></ul></div><p>When we commit directly on the GitHub website, the commit signature verification uses GitHub’s key rather than our own. If we don’t have GitHub’s signature verification public key locally, the related commits will display <code>gpg: Can&#39;t check signature: No public key</code>.</p><p>You can switch to a Git repository directory and use the following command to check:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --show-signature</span><br></pre></td></tr></table></figure><p>The output will look like this, where you can see that the GitHub key ID is <code>B5690EEEBB952194</code>, highlighted in red.</p><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-6paqxqwra"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="Output"><img data-src="https://s2.loli.net/2024/11/01/NhxMFgwC189fBGd.webp" alt="Output" class="zoomable"></li></ul></div></div><div id="carousel-caption-6paqxqwra" class="carousel-caption"></div></div><p>This red box is quite uncomfortable for those with OCD, so I choose to import and trust the GitHub public key locally to get rid of this red box.</p><p>First, import GitHub’s public key locally:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://github.com/web-flow.gpg | gpg --import</span><br></pre></td></tr></table></figure><p>Then, check the existing keys:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --list-keys --keyid-format=long</span><br></pre></td></tr></table></figure><p>The output looks like this. The first one is your own GPG key, and the next two are GitHub’s (with one of them even expired).</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --list-keys --keyid-format=long  </span><br><span class="line">/c/Users/Sirius/.gnupg/pubring.kbx  </span><br><span class="line">----------------------------------  </span><br><span class="line">pub ed25519/21231BBF246642D21 2024-10-01 [SC]</span><br><span class="line">16534564331BBDF314564321231  </span><br><span class="line">uid [ultimate] Name (Comments) &lt;your_email@example.com&gt;  </span><br><span class="line">sub cv25519/652153215AB215621 2024-10-01 [E]</span><br><span class="line">  </span><br><span class="line">pub rsa2048/4AEE18F83AFDEB23 2017-08-16 [SC] [expired: 2024-01-16]  </span><br><span class="line">5DE3E0509C47EA3CF04A42D34AEE18F83AFDEB23  </span><br><span class="line">uid [ expired] GitHub (web-flow commit signing) &lt;noreply@github.com&gt;  </span><br><span class="line">  </span><br><span class="line">pub rsa4096/B5690EEEBB952194 2024-01-16 [SC]  </span><br><span class="line">968479A1AFF927E37D1A566BB5690EEEBB952194  </span><br><span class="line">uid [ unknown] GitHub &lt;noreply@github.com&gt;</span><br></pre></td></tr></table></figure><p>Next, edit GitHub’s public key.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --edit-key B5690EEEBB952194</span><br></pre></td></tr></table></figure><p>Trust the key.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">trust</span><br></pre></td></tr></table></figure><p>You will be prompted to select the trust level. Enter <code>4</code> and press Enter.</p><p>Finally, save the changes.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">save</span><br></pre></td></tr></table></figure><p>The full output is as follows:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">Sirius@Pikachu MINGW64 ~/.gnupg  </span><br><span class="line">$ gpg --edit-key B5690EEEBB952194  </span><br><span class="line">gpg (GnuPG) 2.4.5-unknown; Copyright (C) 2024 g10 Code GmbH  </span><br><span class="line">This is free software: you are free to change and redistribute it.  </span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">pub rsa4096/B5690EEEBB952194  </span><br><span class="line">created: 2024-01-16 expires: never usage: SC  </span><br><span class="line">trust: unknown validity: unknown  </span><br><span class="line">[ unknown] (1). GitHub &lt;noreply@github.com&gt;  </span><br><span class="line">  </span><br><span class="line">gpg&gt; trust  </span><br><span class="line">pub rsa4096/B5690EEEBB952194  </span><br><span class="line">created: 2024-01-16 expires: never usage: SC  </span><br><span class="line">trust: unknown validity: unknown  </span><br><span class="line">[ unknown] (1). GitHub &lt;noreply@github.com&gt;  </span><br><span class="line">  </span><br><span class="line">Please decide how far you trust this user to correctly verify other <span class="built_in">users</span><span class="string">&#x27; keys  </span></span><br><span class="line"><span class="string">(by looking at passports, checking fingerprints from different sources, etc.)  </span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">1 = I don&#x27;</span>t know or won<span class="string">&#x27;t say  </span></span><br><span class="line"><span class="string">2 = I do NOT trust  </span></span><br><span class="line"><span class="string">3 = I trust marginally  </span></span><br><span class="line"><span class="string">4 = I trust fully  </span></span><br><span class="line"><span class="string">5 = I trust ultimately  </span></span><br><span class="line"><span class="string">m = back to the main menu  </span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">Your decision? 4  </span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">pub rsa4096/B5690EEEBB952194  </span></span><br><span class="line"><span class="string">created: 2024-01-16 expires: never usage: SC  </span></span><br><span class="line"><span class="string">trust: full validity: unknown  </span></span><br><span class="line"><span class="string">[ unknown] (1). GitHub &lt;noreply@github.com&gt;  </span></span><br><span class="line"><span class="string">Please note that the shown key validity is not necessarily correct  </span></span><br><span class="line"><span class="string">unless you restart the program.  </span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">gpg&gt; save  </span></span><br><span class="line"><span class="string">Key not changed so no update needed.</span></span><br></pre></td></tr></table></figure><p>If this key expires in the future, simply delete it and re-import the latest version.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --delete-key B5690EEEBB952194</span><br></pre></td></tr></table></figure><h3 id="Optional-VS-Code-Configuration"><a href="#Optional-VS-Code-Configuration" class="headerlink" title="(Optional) VS Code Configuration"></a>(Optional) VS Code Configuration</h3><div class="note primary"><p>Reference <a target="_blank" rel="noopener" href="https://soft.moe/technology/cryptography/kun-gpg.html#github-verified">GPG key 实现 GitHub <code>Verified</code> 认证（Authenticate &amp; Sign）</a></p></div><p>If you want to use Git with commit signing in VS Code, open the settings by pressing <code>ctrl+,</code>, then search for <code>git.enableCommitSigning</code>, and check the option <code>Allow GPG, X.509, or SSH commit signing</code>.</p><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-ho2mfmjfb"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="open the settings by pressing ctrl+, , then search for git.enableCommitSigning, and check the option Allow GPG, X.509, or SSH commit signing"><img data-src="https://s2.loli.net/2024/11/01/m5BM31GLHw7KFUl.webp" alt="open the settings by pressing ctrl+, , then search for git.enableCommitSigning, and check the option Allow GPG, X.509, or SSH commit signing" class="zoomable"></li></ul></div></div><div id="carousel-caption-ho2mfmjfb" class="carousel-caption"></div></div><h1 id="Multiple-Account-Configuration"><a href="#Multiple-Account-Configuration" class="headerlink" title="Multiple Account Configuration"></a>Multiple Account Configuration</h1><p>If you only need to set up one GitHub account, all the configurations are complete up to this point. Next, I will continue configuring the SSH and GPG keys for the second account. All files, paths, and suffixes related to the second account will be named <code>second</code>, but feel free to modify them according to your preferences.</p><h2 id="SSH-Key-Configuration"><a href="#SSH-Key-Configuration" class="headerlink" title="SSH Key Configuration"></a>SSH Key Configuration</h2><h3 id="Second-SSH-Key-Generation"><a href="#Second-SSH-Key-Generation" class="headerlink" title="Second SSH Key Generation"></a>Second SSH Key Generation</h3><p>Let’s generate the second SSH key:</p><ul><li>Replace <code>&lt;your_email@example.com&gt;</code> with the preferred email address for the second account.</li><li>Replace <code>&lt;username&gt;</code> with your Windows account name (i.e., the name of your user folder).</li><li>Replace <code>&lt;id_ed25519_second&gt;</code> with the filename for the second key.<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t ed25519 -C <span class="string">&quot;&lt;your_email@example.com&gt;&quot;</span> -f <span class="string">&quot;/c/Users/&lt;username&gt;/.ssh/&lt;id_ed25519_second&gt;&quot;</span></span><br></pre></td></tr></table></figure></li></ul><p>Since we specified the key file path in the command, the system will only prompt you to enter and confirm a passphrase. Simply press Enter twice to skip.</p><h3 id="Generate-SSH-Configuration-File"><a href="#Generate-SSH-Configuration-File" class="headerlink" title="Generate SSH Configuration File"></a>Generate SSH Configuration File</h3><p>We can create a <code>config</code> file to differentiate Git operations for different accounts using distinct Hosts.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> ~/.ssh/config &amp;&amp; notepad ~/.ssh/config</span><br></pre></td></tr></table></figure><p>The configuration file format is as follows:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Host &lt;<span class="built_in">alias</span>&gt;</span><br><span class="line">    HostName &lt;actual Host&gt;</span><br><span class="line">    User &lt;username&gt;</span><br><span class="line">    IdentityFile &lt;private key path&gt;</span><br></pre></td></tr></table></figure><p>Paste the following content, adjusting the Host alias and key file path to match your setup, then save and close the file:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Default config for main account</span><br><span class="line">Host github.com</span><br><span class="line">    HostName github.com</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~/.ssh/id_ed25519</span><br><span class="line"></span><br><span class="line"># Config for second account</span><br><span class="line">Host github.com-second</span><br><span class="line">    HostName github.com</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~/.ssh/id_ed25519_second</span><br></pre></td></tr></table></figure><p>The meaning of these two configuration blocks is:</p><ul><li>Use the <code>id_ed25519_second</code> key for Git URLs with <code>@github.com-second</code>.</li><li>Use the <code>id_ed25519</code> key for all other Git URLs.</li></ul><h3 id="Add-SSH-Key-to-GitHub-Account"><a href="#Add-SSH-Key-to-GitHub-Account" class="headerlink" title="Add SSH Key to GitHub Account"></a>Add SSH Key to GitHub Account</h3><p>The process of adding the SSH key to the second GitHub account is essentially the same as for the first account. Just replace the name of the first key with the second one in the commands.</p><p>To verify if the configuration was successful, use the following command:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com-second</span><br></pre></td></tr></table></figure><h2 id="Commit-Signature-Verification-1"><a href="#Commit-Signature-Verification-1" class="headerlink" title="Commit Signature Verification"></a>Commit Signature Verification</h2><p>The process of generating the second GPG key and adding it to the second GitHub account is identical to the first account. Follow the previous steps, but <strong>do not make global settings</strong> again.</p><h2 id="Adjust-Git-Commands"><a href="#Adjust-Git-Commands" class="headerlink" title="Adjust Git Commands"></a>Adjust Git Commands</h2><p>For the second account, when using commands like <code>git clone</code>, you need to replace the default <code>@github.com</code> with the Host alias you configured earlier, i.e., <code>@github.com-second</code>. For example:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com-second:Username/Repo.git</span><br></pre></td></tr></table></figure><h1 id="Multiple-Accounts-Distinction"><a href="#Multiple-Accounts-Distinction" class="headerlink" title="Multiple Accounts Distinction"></a>Multiple Accounts Distinction</h1><p>I have already set the first account’s configuration as global settings. To avoid confusion between the two accounts, we need to separate their Git configurations. Below are two methods I’ve found for configuring them.</p><p>I will continue using <code>second</code> as the username&#x2F;filename in the examples. Please make sure to replace it with your own second account’s name.</p><h2 id="Fast-Configuration-with-Batch-Processing"><a href="#Fast-Configuration-with-Batch-Processing" class="headerlink" title="Fast Configuration with Batch Processing"></a>Fast Configuration with Batch Processing</h2><div class="note primary"><p>Source: <a target="_blank" rel="noopener" href="https://ayk.moe/articles/commit-signature-guide/index.html">Ayakaの部屋</a></p></div><p>This method involves a local Git setup for each Git repository for the second account. By using local settings with higher priority, we can differentiate the repositories for each account.</p><p>However, entering multiple commands each time can be cumbersome. Instead, you can add these commands to a batch file and then add the batch file to the system’s environment variables. This way, you can run the batch file once to complete the configuration.</p><p>First, create the <code>~/.gitswitch/second.bat</code> file in the user directory and open it with Notepad:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/.gitswitch/ &amp;&amp; <span class="built_in">touch</span> ~/.gitswitch/second.bat &amp;&amp; notepad ~/.gitswitch/second.bat</span><br></pre></td></tr></table></figure><p>Then, paste and edit the following content, save, and close the file:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config --local user.name &lt;second account username&gt;</span><br><span class="line">git config --local user.email &lt;second account email address&gt;</span><br><span class="line">git config --local user.signingkey &lt;second account GPG key secret ID&gt;</span><br><span class="line">git config --local commit.gpgsign true</span><br></pre></td></tr></table></figure><p>Next, run the following command in a terminal with administrator privileges to open the system environment variable settings:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rundll32.exe sysdm.cpl,EditEnvironmentVariables</span><br></pre></td></tr></table></figure><p>Add <code>C:\Users\&lt;Username&gt;\.gitswitch</code> to the system environment variables. Replace <code>&lt;Username&gt;</code> with your <code>Windows username</code>:</p><ol><li>Double-click the <code>Path</code> under system variables.</li><li>Click <code>New</code> at the top right.</li><li>Paste the path.</li><li>Click OK to save.</li><li>Restart the terminal to apply the changes.<div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-n9z4opo1s"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="System environment variables configuration"><img data-src="https://s2.loli.net/2024/11/11/ZHECzmjxFRTNScs.webp" alt="System environment variables configuration" class="zoomable"></li></ul></div></div><div id="carousel-caption-n9z4opo1s" class="carousel-caption"></div></div></li></ol><p>Afterward, if you need to configure the second account locally for a repository, simply enter and execute the script.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">second.bat</span><br></pre></td></tr></table></figure><h2 id="Conditional-Includes"><a href="#Conditional-Includes" class="headerlink" title="Conditional Includes"></a>Conditional Includes</h2><p>This method uses the new <a target="_blank" rel="noopener" href="https://git-scm.com/docs/git-config#_includes">conditional includes</a> introduced in version 2.13, allowing for more flexible differentiation using conditionals.</p><p>Before configuring conditional settings, create the Git configuration file for the second account in the user directory and open it with Notepad:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/.gitswitch/second/ &amp;&amp; <span class="built_in">touch</span> ~/.gitswitch/second/.gitconfig &amp;&amp; notepad ~/.gitswitch/second/.gitconfig</span><br></pre></td></tr></table></figure><p>Then, paste and modify the following configuration, save, and close Notepad:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[user]</span><br><span class="line">    name = &lt;second account username&gt;</span><br><span class="line">    email = &lt;second account email address&gt;</span><br><span class="line">    signingkey = &lt;second account GPG key secret ID&gt;</span><br><span class="line">[commit]</span><br><span class="line">    gpgsign = true</span><br></pre></td></tr></table></figure><p>Finally, add the conditional includes at the end of the global Git configuration file <code>~/.gitconfig</code>. I’ve summarized two common conditions: path matching and URL matching, which can be used in combination.</p><p><strong>Note: Conditional includes should be placed below the global settings!</strong></p><h3 id="Path-Matching"><a href="#Path-Matching" class="headerlink" title="Path Matching"></a>Path Matching</h3><div class="note primary"><p>Reference:</p><ul><li><a target="_blank" rel="noopener" href="https://josta.me/blog/201708/git_config_user/">Git的用户信息设置</a></li><li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/43919191/git-2-13-conditional-config-on-windows">Git 2.13 conditional config on windows</a></li></ul></div><p>We can specify a parent directory for the second account’s Git repositories, and then all Git repositories under that directory will use the same specified configuration. Repositories outside this directory will use the global configuration by default. This eliminates the need for individually configuring each Git repository for the second account.</p><p>Add the following configuration at the end of the global Git configuration file <code>~/.gitconfig</code>. On Windows, you must include <code>/i</code> to disable case sensitivity; otherwise, the configuration may not take effect due to path issues:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[includeIf <span class="string">&quot;gitdir/i:D:/Project/Second/&quot;</span>]</span><br><span class="line">    path = ~/.gitswitch/second/.gitconfig</span><br></pre></td></tr></table></figure><p>With this, all projects under the path <code>D:/Project/Second/</code> will automatically use the configuration in <code>~/.gitswitch/second/.gitconfig</code>, while projects in other paths will retain the original global configuration.</p><h3 id="URL-Matching"><a href="#URL-Matching" class="headerlink" title="URL Matching"></a>URL Matching</h3><div class="note primary"><p>Reference: <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/74012449/git-includeif-hasconfigremote-url-not-working">Git - includeIf hasconfig:remote.*.url not working</a></p></div><p>This method requires Git version 2.36 or higher and is used to set different Git configurations by determining the remote URL used. Similar to the previous method, it requires creating a separate configuration file for the second account, as outlined earlier. Then, add the following content to the global configuration file:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[includeIf <span class="string">&quot;hasconfig:remote.*.url:git@github.com-second:*/**&quot;</span>]</span><br><span class="line">    path = ~/.gitswitch/second/.gitconfig</span><br></pre></td></tr></table></figure><p>This configuration means that if the <code>remote.*.url</code> field in a repository’s local configuration corresponds to <code>git@github.com-second:Username/Repo.git</code>, the specified configuration file <code>~/.gitswitch/second/.gitconfig</code> will be used. This method seamlessly integrates with the SSH Host configuration set earlier, making it very convenient.</p><p>The complete global Git configuration file <code>~/.gitconfig</code> would look like this:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[user]</span><br><span class="line">    name = &lt;main account username&gt;</span><br><span class="line">    email = &lt;main account email address&gt;</span><br><span class="line">    signingkey = &lt;main account GPG key secret ID&gt;</span><br><span class="line">[commit]</span><br><span class="line">    gpgsign = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">[includeIf <span class="string">&quot;gitdir/i:D:/Project/Second/&quot;</span>]</span><br><span class="line">    path = ~/.gitswitch/second/.gitconfig</span><br><span class="line"></span><br><span class="line">[includeIf <span class="string">&quot;hasconfig:remote.*.url:git@github.com-second:*/**&quot;</span>]</span><br><span class="line">    path = ~/.gitswitch/second/.gitconfig</span><br></pre></td></tr></table></figure><blockquote><p>Reference：</p><ul><li><a target="_blank" rel="noopener" href="https://docs.github.com/zh/get-started/getting-started-with-git/setting-your-username-in-git">GitHub Docs</a></li><li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/60482588/what-is-githubs-public-gpg-key">What is GitHub’s public GPG key? @StackOverflow</a></li><li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/43919191/git-2-13-conditional-config-on-windows">Git 2.13 conditional config on windows @StackOverflow</a></li><li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/74012449/git-includeif-hasconfigremote-url-not-working">Git - includeIf hasconfig:remote.*.url not working @StackOverflow</a></li><li><a target="_blank" rel="noopener" href="https://www.zouht.com/2891.html">使用GPG对你的Git提交进行签名验证 @颢天</a></li><li><a target="_blank" rel="noopener" href="https://soft.moe/technology/cryptography/kun-gpg.html#github-verified">GPG key 实现 GitHub Verified 认证（Authenticate &amp; Sign） @KUN’s Blog</a></li><li><a target="_blank" rel="noopener" href="https://ayk.moe/articles/commit-signature-guide/index.html">GitHub commit 签名指南 @Ayakaの部屋</a></li><li><a target="_blank" rel="noopener" href="https://josta.me/blog/201708/git_config_user/">Git的用户信息设置 @YeèのNotes</a></li><li><a target="_blank" rel="noopener" href="https://chatgpt.com/">ChatGPT</a></li></ul></blockquote></div><footer class="post-footer"><div><div style="text-align:center;color:#ccc;font-size:14px">---------- This article ends here. <i class="fa fa-dice-d20"></i> Thank you for reading! ----------</div></div><div class="post-copyright"><ul><li class="post-copyright-author"><strong>Post author: </strong>Sirius</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://siriusq.top/en/git-ssh-config.html" title="GitHub SSH Remote Connection Configuration and GPG Commit Signature Verification">https://siriusq.top/en/git-ssh-config.html</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="post-tags"><a href="/en/tags/GitHub/" rel="tag"><i class="fa fa-tag"></i> GitHub</a> <a href="/en/tags/SSH/" rel="tag"><i class="fa fa-tag"></i> SSH</a> <a href="/en/tags/GPG/" rel="tag"><i class="fa fa-tag"></i> GPG</a></div><div class="post-nav"><div class="post-nav-item"><a href="/en/win-11-iot-ltsc-installation.html" rel="prev" title="Windows 11 IoT LTSC Reinstallation Guide"><i class="fa fa-angle-left"></i> Windows 11 IoT LTSC Reinstallation Guide</a></div><div class="post-nav-item"><a href="/en/onedrive-delay-startup.html" rel="next" title="Setting Delayed Startup for OneDrive on Windows">Setting Delayed Startup for OneDrive on Windows <i class="fa fa-angle-right"></i></a></div></div></footer></article></div><div class="comments gitalk-container"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Sirius</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span title="Word count total">146k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="Reading time total">8:50</span></span></div><div><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>var now=new Date;function createtime(){var n=new Date("03/31/2019 00:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="This site has been running safely for "+dnum+" days ",document.getElementById("times").innerHTML=hnum+" hrs "+mnum+" mins "+snum+" secs"}setInterval("createtime()",250)</script></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/sidebar.js"></script><script src="/en/js/next-boot.js"></script><script src="/en/js/bookmark.js"></script><script src="/en/js/pjax.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script src="/en/js/third-party/fancybox.js"></script><script src="/en/js/third-party/pace.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script><script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://siriusq.top/en/git-ssh-config.html"}</script><script src="/en/js/third-party/quicklink.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous"><script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"Siriusq","repo":"gitalk-commnet","client_id":"4217cae26df745a55acd","client_secret":"b7f2cc0c82be38a4e0f294f12f761bc4799669cd","admin_user":"Siriusq","distraction_free_mode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":"en","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"d29b39d9c1aaf435b14768beabba0b76"}</script><script src="/en/js/third-party/comments/gitalk.js"></script><script type="text/javascript" src="/en/js/crash_cheat.js"></script><script async src="/en/js/fireworks.js"></script><script src="https://unpkg.com/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script><script>window.splideStyles={arrowColor:"#fc8d5d",arrowHoverColor:"#fc6423",paginationColor:"#fc8d5d",paginationActiveColor:"#fc6423",paginationHoverColor:"#fc6423",borderRadius:"1px",borderColor:{light:"#eee",dark:"#444"},shadowColor:{light:"rgba(0, 0, 0, 0.1)",dark:"rgba(0, 0, 0, 0.3)"}},window.splideDarkMode="auto",window.mediumZoomEnabled=!1</script><script type="text/javascript">// 页面加载事件监听
document.addEventListener('DOMContentLoaded', function () {
    splideLoadingHandler();
    initGlobalMediumZoom();
});

document.addEventListener('pjax:success', function () {
    splideLoadingHandler();
    initGlobalMediumZoom();
});

// PJAX开启时销毁所有splide实例，不然开启自动播放时图片简介和图片对不上
document.addEventListener('pjax:send', () => {
    destroySplideInstances();
});

window.splideInstances = [];
function destroySplideInstances() {
    window.splideInstances.forEach((instance) => {
        instance.destroy(); // 销毁实例
    });
    window.splideInstances = []; // 清空数组
}

// Splid 加载处理
function splideLoadingHandler() {
    // 检查页面是否含有轮播图片
    const splideEl = document.querySelector('.splide');
    if (!splideEl) {
        return; // 如果不存在轮播，则不执行初始化
    }

    // 检查是否开启Next主题的动画
    const isMotionEnabled = typeof CONFIG !== 'undefined' && CONFIG && CONFIG.motion && CONFIG.motion.enable;
    if (isMotionEnabled) {
        // Motion 开启时延迟加载轮播组件，等待动画完成。把组件加入动画有bug，一直搞不定，只能曲线救国
        setTimeout(function () {
            // 初始化轮播组件
            initSplide();
        }, 500);  // 延迟 500ms，确保动画完成后再初始化
    } else {
        // Motion 关闭时立即初始化
        initSplide();
    }

    // 处理 fancybox，默认设置会切换焦点图片造成轮播组件混乱
    if (typeof Fancybox !== "undefined") {
        adjustFancybox();
    }

    // 初始化轮播组件中的 Medium Zoom
    if (mediumZoomEnabled) {
        initCarouselMediumZoom();
    }

    // 应用主题样式
    applySplideStyle();
}

// 初始化 Splide
function initSplide() {
    const splideElements = document.querySelectorAll('.splide');
    splideElements.forEach(splideEl => {
        const options = JSON.parse(splideEl.getAttribute('data-splide'));
        // 如果轮播组件中只有一张图片，则隐藏箭头
        const slideCount = splideEl.querySelectorAll('.splide__slide').length;
        if (slideCount <= 1) {
            options.arrows = false;
        }
        // 简介设置
        const splide = new Splide(splideEl, options);
        splide.on('mounted move', function () {
            const activeSlide = splide.Components.Slides.getAt(splide.index);
            const caption = activeSlide.slide.dataset.caption;
            const captionId = splideEl.getAttribute('data-caption-id');

            const captionElement = document.getElementById(captionId);
            if (captionElement) {
                captionElement.innerText = caption || '';  // 如果没有简介，设置为空字符串
            }
        });
        splide.mount();
        window.splideInstances.push(splide); // 将实例存储到数组中   
    });
}

// 应用主题明暗样式
function applySplideStyle() {
    const applyThemeStyles = (theme, splideStyles) => {
        const borderColor = theme === 'dark' ? splideStyles.borderColor.dark : splideStyles.borderColor.light;
        const shadowColor = theme === 'dark' ? splideStyles.shadowColor.dark : splideStyles.shadowColor.light;
        document.documentElement.style.setProperty('--carousel-border-color', borderColor);
        document.documentElement.style.setProperty('--carousel-shadow-color', shadowColor);
        document.documentElement.style.setProperty('--carousel-border-radius', splideStyles.borderRadius);
        document.documentElement.style.setProperty('--carousel-arrow-color', splideStyles.arrowColor);
        document.documentElement.style.setProperty('--carousel-arrow-hover-color', splideStyles.arrowHoverColor);
        document.documentElement.style.setProperty('--carousel-pagination-color', splideStyles.paginationColor);
        document.documentElement.style.setProperty('--carousel-pagination-active-color', splideStyles.paginationActiveColor);
        document.documentElement.style.setProperty('--carousel-pagination-hover-color', splideStyles.paginationHoverColor);
    };

    let theme = 'light';
    if (window.splideDarkMode === 'auto') {
        theme = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    } else if (window.splideDarkMode === 'true') {
        theme = 'dark';
    }
    applyThemeStyles(theme, window.splideStyles);

    if (window.splideDarkMode === 'auto') {
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
            applyThemeStyles(e.matches ? 'dark' : 'light', window.splideStyles);
        });
    }
}

// 初始化非轮播图片的 Medium Zoom
function initGlobalMediumZoom() {
    // 检查是否启用 medium-zoom
    if (!mediumZoomEnabled) {
        return;
    }
    const zoomOutsideCarousel = mediumZoom('img:not(.splide .zoomable)', {
        background: 'rgba(0, 0, 0, 0.8)',
        margin: 24
    });
}

// 初始化轮播组件中的 Medium Zoom
function initCarouselMediumZoom() {
    const zoomCarousel = mediumZoom('.zoomable', {
        background: 'rgba(0, 0, 0, 0.8)',
        margin: 24,
        onOpen: (zoom) => {
            const img = zoom.target; // 获取正在缩放的图片
            img.classList.add('zooming'); // 添加一个缩放时的 class
        },
        onClose: (zoom) => {
            const img = zoom.target; // 获取缩放的图片
            img.classList.remove('zooming'); // 移除缩放时的 class
        }
    });

    zoomCarousel.on('open', () => {
        // 隐藏箭头和分页按钮
        document.querySelectorAll('.splide__arrow, .splide__pagination').forEach(el => {
            el.style.display = 'none';
        });
    });

    zoomCarousel.on('close', () => {
        // 重新显示箭头和分页按钮
        document.querySelectorAll('.splide__arrow, .splide__pagination').forEach(el => {
            el.style.display = '';
        });
    });
}

// fancybox 兼容调整
function adjustFancybox() {
    Fancybox.bind("[data-fancybox]", {
        placeFocusBack: false,  // 禁止 Fancybox 关闭时滚动回页面的焦点位置
    });

    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            if (mutation.type === "childList") {
                removeFancyboxFromClones();
            }
        });
    });

    // 观察整个文档的 DOM 变化
    observer.observe(document, { childList: true, subtree: true });
}

// 移除克隆 Slide 中的 Fancybox 链接
function removeFancyboxFromClones() {
    const cloneSlides = document.querySelectorAll('.splide__slide--clone');

    cloneSlides.forEach((slide) => {
        const fancyboxLink = slide.querySelector('a.fancybox');
        if (fancyboxLink) {
            const img = fancyboxLink.querySelector('img');
            if (img) {
                // 将 img 挪出 a 标签
                fancyboxLink.replaceWith(img);
            }
        }
    });
}</script></body></html>