<!DOCTYPE html><html lang="en"><head><link href="https://cdnjs.cloudflare.com/ajax/libs/splidejs/4.1.4/css/splide.min.css" rel="stylesheet"><style type="text/css">.splide{border:2px solid var(--carousel-border-color);box-shadow:0 4px 8px var(--carousel-shadow-color);border-radius:var(--carousel-border-radius)}.splide__slide img{width:100%;height:100%;object-fit:contain}.carousel-container{visibility:inherit;margin-top:20px;margin-bottom:20px}.carousel-caption{min-height:2em;line-height:2em;text-align:center;font-size:.9em;font-style:italic;padding:6px;margin-left:auto;margin-right:auto}.splide__arrow{background:0 0;align-items:center;border:0;cursor:pointer;display:flex;height:5em;justify-content:center;position:absolute;top:50%;transform:translateY(-50%);width:5em;z-index:10}.splide__arrow:disabled{opacity:0}.splide__arrow--prev{left:0}.splide__arrow--next{right:0}.splide__arrow svg{fill:var(--carousel-arrow-color);height:2.5em;transition:fill .2s linear;width:2.5em}.splide__arrow:hover:not(:disabled) svg{fill:var(--carousel-arrow-hover-color)}.splide__arrow:focus-visible{outline:transparent;outline-offset:0}.splide.is-focus-in .splide__arrow:focus{outline:transparent;outline-offset:0}.splide__pagination__page:focus-visible{outline:transparent;outline-offset:0}.splide.is-focus-in .splide__pagination__page:focus{outline:transparent;outline-offset:0}.splide__pagination{bottom:1em;left:0;padding:0 1em;position:absolute;right:0;z-index:1}.splide__pagination__page{background:var(--carousel-pagination-color);border:0;border-radius:2.5px;display:inline-block;height:5px;margin:3px;width:20px;transition:background-color .2s linear}.splide__pagination__page.is-active{background:var(--carousel-pagination-active-color)}.splide__pagination__page:hover{background:var(--carousel-pagination-hover-color);cursor:pointer;opacity:.9}.splide__pagination__page::before{content:'';position:absolute;top:-18px;bottom:-18px;left:-4px;right:-4px}.splide__pagination__page.is-active::before{content:'';position:absolute;top:-12px;bottom:-12px;left:-1px;right:-1px}.zoomable{object-fit:contain}.zooming{max-width:90vw!important;max-height:90vh!important;object-fit:contain!important}</style><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16.png"><link rel="mask-icon" href="/en/images/favicon.svg" color="#222"><link rel="manifest" href="/en/images/site.webmanifest"><meta name="msvalidate.01" content="BE3DB9F22A0915AF3452024048D66934"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300italic,400,400italic,700,700italic%7CNoto+Serif:300,300italic,400,400italic,700,700italic%7CFira+Code:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-flash.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"siriusq.top","root":"/en/","images":"/en/images","scheme":"Gemini","darkmode":"auto","version":"8.20.0","exturl":false,"sidebar":{"position":"right","width_expanded":320,"width_dual_column":320,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":true,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"},"duration":200},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><meta name="description" content="A guide on installing the TeX environment and quickly configuring LaTeX in VSCode."><meta property="og:type" content="article"><meta property="og:title" content="Quick Setup Guide for LaTeX in VSCode"><meta property="og:url" content="https://siriusq.top/en/latex-vscode-quick-config.html"><meta property="og:site_name" content="Sirius"><meta property="og:description" content="A guide on installing the TeX environment and quickly configuring LaTeX in VSCode."><meta property="og:locale" content="en_US"><meta property="og:image" content="https://s2.loli.net/2023/10/06/rtv86aQ3NoJeygY.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/cuwyg4mZVAdPsFJ.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/egBY1N8vUp5fwmV.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/PA9rod7y2NktUEJ.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/1dfC7RnsILpUJKh.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/A2pZSEaxkrHeR3d.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/OMBXEcRnWstlv9A.png"><meta property="og:image" content="https://s2.loli.net/2023/10/06/6AZdueKySU5cvwb.png"><meta property="og:image" content="https://s2.loli.net/2023/10/06/2bXlRiMTSBvIZGu.png"><meta property="og:image" content="https://s2.loli.net/2023/10/06/cN5oU1z6kZihFJE.png"><meta property="og:image" content="https://s2.loli.net/2023/10/06/xqgKzTueOnMVod9.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/JmdOsAWTgotPQSh.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/c1vBzWIOdTlP7ZQ.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/WbyZSiL5dk1MFGo.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/9CUzAGhcZfNVlLS.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/32T5rc7sRSaAHGf.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/iTOLUpPYsIFB8l4.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/JMpIfran4KEuPic.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/XGPqzkKINi4AQ6d.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/v9HR26jTgBYypld.webp"><meta property="og:image" content="https://s2.loli.net/2023/10/06/AiMrFKVxwI3g19P.webp"><meta property="article:published_time" content="2023-10-03T13:24:09.000Z"><meta property="article:modified_time" content="2024-09-13T16:00:53.000Z"><meta property="article:author" content="Sirius"><meta property="article:tag" content="VSCode"><meta property="article:tag" content="LaTeX"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://s2.loli.net/2023/10/06/rtv86aQ3NoJeygY.webp"><link rel="canonical" href="https://siriusq.top/en/latex-vscode-quick-config.html"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://siriusq.top/en/latex-vscode-quick-config.html","path":"latex-vscode-quick-config.html","title":"Quick Setup Guide for LaTeX in VSCode"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Quick Setup Guide for LaTeX in VSCode | Sirius</title><script src="/en/live2d-widget/autoload.js"></script><link rel="icon" type="image/png" sizes="48x48" href="/en/images/favicon-48x48.png"><link rel="icon" type="image/png" sizes="96x96" href="/en/images/favicon-96x96.png"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Sirius" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Sirius</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">May the Force be with you</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/en/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/en/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">113</span></a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">11</span></a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">79</span></a></li><li class="menu-item menu-item-tools"><a href="/en/tools/" rel="section"><i class="fa fa-screwdriver-wrench fa-fw"></i>Tools</a></li><li class="menu-item menu-item-switch-to-chinese"><a href="https://siriusq.top/" rel="section"><i class="fa fa-language fa-fw"></i>Switch to Chinese</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#TeX-Live-Installation"><span class="nav-number">1.</span> <span class="nav-text">TeX Live Installation</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Windows"><span class="nav-number">1.1.</span> <span class="nav-text">Windows</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#macOS"><span class="nav-number">1.2.</span> <span class="nav-text">macOS</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#VSCode-Extensions-Installation"><span class="nav-number">2.</span> <span class="nav-text">VSCode Extensions Installation</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#LaTeX-Workshop-Configuration"><span class="nav-number">3.</span> <span class="nav-text">LaTeX Workshop Configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Auto-Build"><span class="nav-number">3.1.</span> <span class="nav-text">Auto Build</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Auto-Clean"><span class="nav-number">3.2.</span> <span class="nav-text">Auto Clean</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Add-Compilation-Recipe"><span class="nav-number">3.3.</span> <span class="nav-text">Add Compilation Recipe</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Default-Recipe"><span class="nav-number">3.4.</span> <span class="nav-text">Default Recipe</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Disable-Warning-Error-Message"><span class="nav-number">3.5.</span> <span class="nav-text">Disable Warning &amp; Error Message</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Usage"><span class="nav-number">4.</span> <span class="nav-text">Usage</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Sirius" src="https://s2.loli.net/2022/05/23/kxtRKT4u71HXlUY.gif"><p class="site-author-name" itemprop="name">Sirius</p><div class="site-description" itemprop="description">Thread_sleep(1); //be nice to the CPU</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/en/archives/"><span class="site-state-item-count">79</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/en/categories/"><span class="site-state-item-count">11</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/en/tags/"><span class="site-state-item-count">113</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Siriusq" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Siriusq" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="/en/atom.xml" title="RSS Feed → &#x2F;atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i>RSS Feed</a> </span><span class="links-of-author-item"><a href="mailto:siriusq.top@outlook.com" title="E-Mail → mailto:siriusq.top@outlook.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span><span class="links-of-author-item"><a href="https://leetcode.com/Siriusq/" title="LeetCode → https:&#x2F;&#x2F;leetcode.com&#x2F;Siriusq&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-code fa-fw"></i>LeetCode</a></span></div><script src="/en/js/switch_limited.js"></script></div></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://siriusq.top/en/latex-vscode-quick-config.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://s2.loli.net/2022/05/23/kxtRKT4u71HXlUY.gif"><meta itemprop="name" content="Sirius"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sirius"><meta itemprop="description" content="Thread_sleep(1); //be nice to the CPU"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Quick Setup Guide for LaTeX in VSCode | Sirius"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Quick Setup Guide for LaTeX in VSCode</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2023-10-03 21:24:09" itemprop="dateCreated datePublished" datetime="2023-10-03T21:24:09+08:00">2023-10-03</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2024-09-14 00:00:53" itemprop="dateModified" datetime="2024-09-14T00:00:53+08:00">2024-09-14</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/Coding/" itemprop="url" rel="index"><span itemprop="name">Coding</span></a> </span></span><span class="post-meta-break"></span> <span class="post-meta-item" title="Word count in article"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">Word count in article: </span><span>1.8k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>6 mins.</span></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote class="blockquote-center">A guide on installing the TeX environment and quickly configuring LaTeX in VSCode.</blockquote><span id="more"></span><h1 id="TeX-Live-Installation"><a href="#TeX-Live-Installation" class="headerlink" title="TeX Live Installation"></a>TeX Live Installation</h1><p>First, go to the <a target="_blank" rel="noopener" href="https://www.tug.org/texlive/index.html#concise">TeX Live official website</a> to download the installation files. The links below provide the download pages for both Windows and Mac versions.</p><div class="link-grid"><div class="link-grid-container"><object class="link-grid-image" data="/images/link/link.webp"></object><p>TeX Live ISO image</p><p>Acquiring TeX Live as an ISO image</p><a target="_blank" rel="noopener" href="https://www.tug.org/texlive/acquire-iso.html"></a></div><div class="link-grid-container"><object class="link-grid-image" data="/images/link/link.webp"></object><p>MacTeX.pkg</p><p>MacTeX is a package that installs TeX Live on the Macintosh.</p><a target="_blank" rel="noopener" href="https://www.tug.org/mactex/mactex-download.html"></a></div></div><h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><p>For Windows users, it’s recommended to use the <code>ISO</code> file for installation. The ISO file is approximately 4GB and contains all the necessary files, so there’s no need for an online installation. If you have a good internet connection, you can also choose to download <code>install-tl-windows.exe</code>, which is only 20MB. Simply double-click it to start the online installation, which is more convenient. However, please note that when using <code>install-tl-windows.exe</code>, the program estimates that it may take several hours to complete the download and installation, whereas downloading the ISO file only takes a few minutes.</p><p>After opening the download page, choose <code>download from a nearby CTAN mirror</code> to go to the nearest mirror site, then click to download <code>texlive.iso</code>.</p><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-f4kr5gs53"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="Download from a nearby CTAN mirror"><img data-src="https://s2.loli.net/2023/10/06/rtv86aQ3NoJeygY.webp" alt="Download from a nearby CTAN mirror" class="zoomable"></li><li class="splide__slide" data-caption="Download texlive.iso"><img data-src="https://s2.loli.net/2023/10/06/cuwyg4mZVAdPsFJ.webp" alt="Download texlive.iso" class="zoomable"></li></ul></div></div><div id="carousel-caption-f4kr5gs53" class="carousel-caption"></div></div><p>Once the download is complete, mount the ISO file and run <code>install-tl-windows.bat</code> as administrator. After the installation program finishes loading, click the “Install” button. The installation time depends on your computer’s performance, but it typically takes around 30 minutes. After a successful installation, click the “Close” button to exit the installation program.</p><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-4nt0p429o"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="Installation Root"><img data-src="https://s2.loli.net/2023/10/06/egBY1N8vUp5fwmV.webp" alt="Installation Root" class="zoomable"></li><li class="splide__slide" data-caption="Loading"><img data-src="https://s2.loli.net/2023/10/06/PA9rod7y2NktUEJ.webp" alt="Loading" class="zoomable"></li><li class="splide__slide" data-caption="Install"><img data-src="https://s2.loli.net/2023/10/06/1dfC7RnsILpUJKh.webp" alt="Install" class="zoomable"></li><li class="splide__slide" data-caption="Success"><img data-src="https://s2.loli.net/2023/10/06/A2pZSEaxkrHeR3d.webp" alt="Success" class="zoomable"></li></ul></div></div><div id="carousel-caption-4nt0p429o" class="carousel-caption"></div></div><h2 id="macOS"><a href="#macOS" class="headerlink" title="macOS"></a>macOS</h2><p>For macOS users, simply click the download link for MacTeX.pkg on the download page. The size of the installation package is 5.2GB. After downloading, double-click the package to open it, and then follow the on-screen instructions to complete the installation.</p><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-na0xcpdyw"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="Download MacTeX.pkg"><img data-src="https://s2.loli.net/2023/10/06/OMBXEcRnWstlv9A.png" alt="Download MacTeX.pkg" class="zoomable"></li><li class="splide__slide" data-caption="Agree"><img data-src="https://s2.loli.net/2023/10/06/6AZdueKySU5cvwb.png" alt="Agree" class="zoomable"></li><li class="splide__slide" data-caption="Installing"><img data-src="https://s2.loli.net/2023/10/06/2bXlRiMTSBvIZGu.png" alt="Installing" class="zoomable"></li><li class="splide__slide" data-caption="Success"><img data-src="https://s2.loli.net/2023/10/06/cN5oU1z6kZihFJE.png" alt="Success" class="zoomable"></li></ul></div></div><div id="carousel-caption-na0xcpdyw" class="carousel-caption"></div></div><h1 id="VSCode-Extensions-Installation"><a href="#VSCode-Extensions-Installation" class="headerlink" title="VSCode Extensions Installation"></a>VSCode Extensions Installation</h1><p>Search for and install the <code>LaTeX Workshop</code> and <code>LaTeX Utilities</code> extensions in the VSCode Extension Marketplace. The former adds LaTeX support to VSCode, while the latter provides useful features such as automatic formatting for pasted text and integration with Zotero.</p><p><img data-src="https://s2.loli.net/2023/10/06/xqgKzTueOnMVod9.webp" alt="VSCode Extensions Installation"></p><h1 id="LaTeX-Workshop-Configuration"><a href="#LaTeX-Workshop-Configuration" class="headerlink" title="LaTeX Workshop Configuration"></a>LaTeX Workshop Configuration</h1><p>Open VSCode’s settings using the shortcut <code>Ctrl</code> + <code>,</code>. For the following operations, it’s recommended to use the search bar in the settings to quickly locate them.</p><h2 id="Auto-Build"><a href="#Auto-Build" class="headerlink" title="Auto Build"></a>Auto Build</h2><p><img data-src="https://s2.loli.net/2023/10/06/JmdOsAWTgotPQSh.webp" alt="Auto Build.webp"></p><p>Search for <code>latex run</code> and adjust the <code>Latex-workshop &gt; Latex &gt; Auto Build: Run</code> option. I recommend choosing <code>OnSave</code>.</p><ul><li><code>never</code>: No automatic build .</li><li><code>OnSave</code>: Automatically build when saving a <code>.tex</code> file.</li><li><code>OnFileChange</code>: Automatically build when any file in the dependencies changes, including changes made outside of VSCode.</li></ul><h2 id="Auto-Clean"><a href="#Auto-Clean" class="headerlink" title="Auto Clean"></a>Auto Clean</h2><p>This option automatically cleans (deletes) compiled auxiliary files and output files to ensure that each LaTeX compilation starts from scratch without being affected by previous compilations.</p><p><img data-src="https://s2.loli.net/2023/10/06/c1vBzWIOdTlP7ZQ.webp" alt="Auto Clean.webp"></p><p>Search for <code>latex run</code> and adjust the <code>Latex-workshop &gt; Latex &gt; Auto Clean: Run</code> option. I recommend choosing <code>OnFailed</code>.</p><ul><li><code>never</code>: No automatic cleaning.</li><li><code>OnFailed</code>: Only clean automatically when compilation fails.</li><li><code>OnSucceeded</code>: Only clean automatically when compilation succeeds.</li><li><code>OnBuilt</code>: Clean automatically after compilation, regardless of success.</li></ul><details class="note success"><summary><p>Detailed Explanation</p></summary><p>Specifically, this option serves the following purposes:</p><ol><li><strong>Auto Cleaning</strong>: When you build a LaTeX document, it generates auxiliary files (e.g., <code>.aux</code>, <code>.log</code>, <code>.bbl</code>, <code>.blg</code>, etc.) and the resulting PDF file. These files are typically used to record compilation information, aid in cross-referencing, and generate references, among other tasks. When the “Auto Clean: Run” option is enabled, the plugin automatically deletes these auxiliary files and previously generated PDF files each time you run a LaTeX compilation.</li><li><strong>Avoiding Interference from Old Files</strong>: If you’ve made modifications to your document between different compilations, old auxiliary files might cause issues, such as cross-reference errors or incorrect references. By automatically cleaning these files, you ensure that each compilation starts from a clean slate, reducing potential interference and errors.</li><li><strong>Saving Disk Space</strong>: LaTeX compilations generate many temporary files, and over time, these files can consume a significant amount of disk space. Auto cleaning helps you regularly remove these no longer needed files, saving disk space.</li></ol><p>Please note that when using the “Auto Clean: Run” option, make sure you don’t need to retain the compiled auxiliary files or output files for other purposes (e.g., generating references) because they will be deleted. If you need to keep these files, you can disable this option and manage them manually.</p><blockquote><p>By ChatGPT</p></blockquote></details><h2 id="Add-Compilation-Recipe"><a href="#Add-Compilation-Recipe" class="headerlink" title="Add Compilation Recipe"></a>Add Compilation Recipe</h2><p>In LaTeX Workshop’s default compilation recipe, there is only one compilation chain that includes <code>bibtex</code>, which is <code>pdflatex -&gt; bibtex -&gt; pdflatex * 2</code>. Now, let’s add another compilation chain containing <code>bibtex</code>: <code>xelatex -&gt; bibtex -&gt; xelatex*2</code>.</p><details class="note success"><summary><p>Difference Between PdfTeX and XeTeX</p></summary><p>PdfTeX and XeTeX are two TeX engines used for typesetting documents, and they have some important differences:</p><ol><li>Font Support:<ul><li>PdfTeX: PdfTeX primarily supports traditional TeX fonts like Computer Modern. Using other fonts often requires complex configuration and font mapping.</li><li>XeTeX: XeTeX is more flexible and can directly use fonts installed on your system, including TrueType and OpenType fonts. This makes handling documents with multiple languages and different font styles easier.</li></ul></li><li>Character Encoding:<ul><li>PdfTeX: PdfTeX typically requires specific input encodings (e.g., UTF-8) to handle non-ASCII characters and has limited support.</li><li>XeTeX: XeTeX natively supports Unicode encoding, making it easy to work with various languages and symbols without additional configuration.</li></ul></li><li>Multilingual Support:<ul><li>PdfTeX: It supports multiple languages but requires careful configuration for handling specific language requirements.</li><li>XeTeX: Provides more direct and straightforward support for multilingual documents, especially those containing multiple languages and scripts.</li></ul></li><li>Output Formats:<ul><li>PdfTeX: Generates output in PDF format.</li><li>XeTeX: Can also generate PDF but supports other formats like DVI and PostScript.</li></ul></li></ol><p>In summary, PdfTeX is suitable for traditional TeX document typesetting tasks, while XeTeX is better for handling multilingual documents, complex font requirements, and Unicode characters. The choice of which engine to use depends on your specific needs and project requirements.</p><blockquote><p>By ChatGPT</p></blockquote></details><details class="note success"><summary><p>About BibTeX</p></summary><p>BibTeX is a tool for managing citations and references in LaTeX documents. It is typically used alongside LaTeX to create a well-formatted list of references and citations automatically.</p><p>Here’s how BibTeX works:</p><ol><li>Create a Bibliography Database: You create a BibTeX database file (usually with a <code>.bib</code> file extension) that contains information about all the references you want to use. Each reference entry includes metadata such as authors, title, publication details, etc.</li><li>Reference Citations in LaTeX: In your LaTeX document, you use the <code>\cite{key}</code> command to reference these entries, where <code>key</code> is the identifier for a particular reference in your BibTeX database.</li><li>Compile the Document: You compile your LaTeX document, and then run BibTeX, which looks up the citations in the <code>.aux</code> file generated during the first LaTeX compilation. BibTeX uses this information to create a list of references and format the citations.</li><li>Generate the References: BibTeX generates a formatted list of references based on your citations, applying the appropriate citation style (e.g., APA, MLA) and sorting.</li></ol><p>BibTeX’s advantage is its ability to automatically handle citations and formatting, making it convenient for longer papers and academic articles. However, it’s essential to choose the right bibliography style and perform any necessary customizations according to the requirements of your journal or publishing institution.</p><blockquote><p>By ChatGPT</p></blockquote></details><p><img data-src="https://s2.loli.net/2023/10/06/WbyZSiL5dk1MFGo.webp" alt="Recipes"></p><p>Search for <code>Latex: Recipes</code>, find <code>Latex-workshop &gt; Latex: Recipes</code> and then click on <code>Edit in settings.json</code>. Use <code>Ctrl+F</code> to locate <code>latex-workshop.latex.recipes</code> in settings.json and add a new compilation chain as follows, making sure not to miss the trailing <code>,</code>:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;xelatex -&gt; bibtex -&gt; xelatex*2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;tools&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;xelatexmk&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;bibtex&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;xelatexmk&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;xelatexmk&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><details class="note success"><summary><p>Why Multiple XeLaTeX Compilations?</p></summary><p>In LaTeX’s compilation chain, it’s common to perform two <code>xelatex</code> compilations for documents that involve bibliographic references (using <code>bibtex</code> or <code>biblatex</code>). Here’s why two <code>xelatex</code> compilations are typically necessary:</p><ol><li>First <code>xelatex</code> Compilation:<ul><li>The first compilation is primarily for processing the document’s content, generating reference labels, and inserting placeholders for citations.</li><li>When you use the <code>\cite{key}</code> command to reference a bibliography entry, the first compilation inserts placeholders like <code>[?]</code> to indicate the citation’s position.</li><li>This step also generates an auxiliary file (usually a <code>.aux</code> file) that contains information about the citations.</li></ul></li><li>Running <code>bibtex</code>:<ul><li>Next, you run the <code>bibtex</code> tool, which reads the citation information from the <code>.aux</code> file and generates the reference list and detailed citation information based on your BibTeX database (typically a <code>.bib</code> file).</li><li>The information generated by <code>bibtex</code> is stored in a <code>.bbl</code> file.</li></ul></li><li>Second <code>xelatex</code> Compilation:<ul><li>The purpose of the second compilation is to insert the generated reference list and detailed citations into the document to replace the placeholders.</li><li>During this compilation, LaTeX knows the details of each citation and formats them correctly in the document.</li><li>This compilation also updates the citation labels in the document.</li></ul></li><li>Third <code>xelatex</code> Compilation (Optional):<ul><li>If your document contains cross-references (such as referencing sections or figures), you may need to run <code>xelatex</code> again to ensure all cross-reference numbers are correct.</li></ul></li></ol><p>So, the multiple <code>xelatex</code> compilations are necessary to ensure that the bibliographic citations and reference list are correctly integrated into the document. This is the standard workflow for handling citations in LaTeX. In some cases, if there are no cross-references or if citations do not affect other parts of the document, only two compilations may be needed without the third.</p><blockquote><p>By ChatGPT</p></blockquote></details><h2 id="Default-Recipe"><a href="#Default-Recipe" class="headerlink" title="Default Recipe"></a>Default Recipe</h2><p>This option defines the default recipe to be used when no other compilation recipe is explicitly specified, including the automatic compilation set earlier.</p><p><img data-src="https://s2.loli.net/2023/10/06/9CUzAGhcZfNVlLS.webp" alt="Default Recipe.webp"></p><p>Search for <code>latex recipe default</code>, and adjust the <code>Latex-workshop &gt; Latex &gt; Recipe: Default</code> option. I recommend choosing <code>lastUsed</code>.</p><ul><li><code>first</code>: The first compilation option in the configuration file.</li><li><code>lastUsed</code>: The compilation option used last time.</li></ul><h2 id="Disable-Warning-Error-Message"><a href="#Disable-Warning-Error-Message" class="headerlink" title="Disable Warning &amp; Error Message"></a>Disable Warning &amp; Error Message</h2><p>By default, VSCode displays message pop-ups in the lower-right corner when the build fails, which need to be manually closed. Since these messages are also visible in the terminal, you can choose to disable these pop-ups.</p><p>Search for <code>latex message show</code> and uncheck the <code>Latex-workshop &gt; Message &gt; Error: Show</code> and <code>Latex-workshop &gt; Message &gt; Warning: Show</code> options.</p><div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img data-src="https://s2.loli.net/2023/10/06/32T5rc7sRSaAHGf.webp" alt="Warning Message.webp"></div></div><div class="group-picture-row"><div class="group-picture-column"><img data-src="https://s2.loli.net/2023/10/06/iTOLUpPYsIFB8l4.webp" alt="Error Message.webp"></div></div></div><h1 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h1><p>When you open a <code>.tex</code> file using VSCode, you will see a TEX option in the left sidebar. You can use this option to select compilation options and view the PDF output, among other operations.</p><div class="carousel-container"><div class="splide" data-splide='{"heightRatio":0.618,"lazyLoad":false,"type":"slide","autoplay":false,"interval":3000,"pauseOnHover":true}' data-caption-id="carousel-caption-imdr47pq6"><div class="splide__track"><ul class="splide__list"><li class="splide__slide" data-caption="Build.webp"><img data-src="https://s2.loli.net/2023/10/06/JMpIfran4KEuPic.webp" alt="Build.webp" class="zoomable"></li><li class="splide__slide" data-caption="PDF&Log.webp"><img data-src="https://s2.loli.net/2023/10/06/XGPqzkKINi4AQ6d.webp" alt="PDF&Log.webp" class="zoomable"></li><li class="splide__slide" data-caption="Navigate.webp"><img data-src="https://s2.loli.net/2023/10/06/v9HR26jTgBYypld.webp" alt="Navigate.webp" class="zoomable"></li><li class="splide__slide" data-caption="Citation.webp"><img data-src="https://s2.loli.net/2023/10/06/AiMrFKVxwI3g19P.webp" alt="Citation.webp" class="zoomable"></li></ul></div></div><div id="carousel-caption-imdr47pq6" class="carousel-caption"></div></div><blockquote><p>References:</p><ol><li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/166523064">Visual Studio Code (vscode)配置LaTeX</a> by <a target="_blank" rel="noopener" href="https://www.zhihu.com/people/Ali-loner">Ali-loner</a></li><li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/108095566">VS Code + LaTeX</a> by <a target="_blank" rel="noopener" href="https://www.zhihu.com/people/Thesharing">柏星</a></li><li><a target="_blank" rel="noopener" href="https://github.com/James-Yu/LaTeX-Workshop/wiki">LaTeX Workshop Wiki</a> by <a target="_blank" rel="noopener" href="https://github.com/James-Yu">James Yu</a></li></ol></blockquote></div><footer class="post-footer"><div><div style="text-align:center;color:#ccc;font-size:14px">---------- This article ends here. <i class="fa fa-dice-d20"></i> Thank you for reading! ----------</div></div><div class="post-copyright"><ul><li class="post-copyright-author"><strong>Post author: </strong>Sirius</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://siriusq.top/en/latex-vscode-quick-config.html" title="Quick Setup Guide for LaTeX in VSCode">https://siriusq.top/en/latex-vscode-quick-config.html</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="post-tags"><a href="/en/tags/VSCode/" rel="tag"><i class="fa fa-tag"></i> VSCode</a> <a href="/en/tags/LaTeX/" rel="tag"><i class="fa fa-tag"></i> LaTeX</a></div><div class="post-nav"><div class="post-nav-item"><a href="/en/ios-windows-file-share.html" rel="prev" title="Accessing Windows Shared Folders on iPhone"><i class="fa fa-angle-left"></i> Accessing Windows Shared Folders on iPhone</a></div><div class="post-nav-item"><a href="/en/auto-update-profile-latest-blog-posts.html" rel="next" title="Automatically Update the Recent Blog Posts Section in the Custom Profile README When a GitHub Pages-Based Blog Is Updated.">Automatically Update the Recent Blog Posts Section in the Custom Profile README When a GitHub Pages-Based Blog Is Updated. <i class="fa fa-angle-right"></i></a></div></div></footer></article></div><div class="comments gitalk-container"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Sirius</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span title="Word count total">147k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="Reading time total">8:54</span></span></div><div><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>var now=new Date;function createtime(){var n=new Date("03/31/2019 00:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="This site has been running safely for "+dnum+" days ",document.getElementById("times").innerHTML=hnum+" hrs "+mnum+" mins "+snum+" secs"}setInterval("createtime()",250)</script></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/sidebar.js"></script><script src="/en/js/next-boot.js"></script><script src="/en/js/bookmark.js"></script><script src="/en/js/pjax.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script src="/en/js/third-party/fancybox.js"></script><script src="/en/js/third-party/pace.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script><script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://siriusq.top/en/latex-vscode-quick-config.html"}</script><script src="/en/js/third-party/quicklink.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous"><script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"Siriusq","repo":"gitalk-commnet","client_id":"4217cae26df745a55acd","client_secret":"b7f2cc0c82be38a4e0f294f12f761bc4799669cd","admin_user":"Siriusq","distraction_free_mode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":"en","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"77710ca2a401806082e65f6cf9758bd4"}</script><script src="/en/js/third-party/comments/gitalk.js"></script><script type="text/javascript" src="/en/js/crash_cheat.js"></script><script async src="/en/js/fireworks.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/splidejs/4.1.4/js/splide.min.js"></script><script>window.splideStyles={arrowColor:"#fc8d5d",arrowHoverColor:"#fc6423",paginationColor:"#fc8d5d",paginationActiveColor:"#fc6423",paginationHoverColor:"#fc6423",borderRadius:"1px",borderColor:{light:"#eee",dark:"#444"},shadowColor:{light:"rgba(0, 0, 0, 0.1)",dark:"rgba(0, 0, 0, 0.3)"}},window.splideDarkMode="auto",window.mediumZoomEnabled=!1</script><script type="text/javascript">// 页面加载事件监听
document.addEventListener('DOMContentLoaded', function () {
    splideLoadingHandler();
    initGlobalMediumZoom();
});

document.addEventListener('pjax:success', function () {
    splideLoadingHandler();
    initGlobalMediumZoom();
});

// PJAX开启时销毁所有splide实例，不然开启自动播放时图片简介和图片对不上
document.addEventListener('pjax:send', () => {
    destroySplideInstances();
});

window.splideInstances = [];
function destroySplideInstances() {
    window.splideInstances.forEach((instance) => {
        instance.destroy(); // 销毁实例
    });
    window.splideInstances = []; // 清空数组
}

// Splid 加载处理
function splideLoadingHandler() {
    // 检查页面是否含有轮播图片
    const splideEl = document.querySelector('.splide');
    if (!splideEl) {
        return; // 如果不存在轮播，则不执行初始化
    }

    // 检查是否开启Next主题的动画
    const isMotionEnabled = typeof CONFIG !== 'undefined' && CONFIG && CONFIG.motion && CONFIG.motion.enable;
    if (isMotionEnabled) {
        // Motion 开启时延迟加载轮播组件，等待动画完成。把组件加入动画有bug，一直搞不定，只能曲线救国
        setTimeout(function () {
            // 初始化轮播组件
            initSplide();
        }, 500);  // 延迟 500ms，确保动画完成后再初始化
    } else {
        // Motion 关闭时立即初始化
        initSplide();
    }

    // 处理 fancybox，默认设置会切换焦点图片造成轮播组件混乱
    if (typeof Fancybox !== "undefined") {
        adjustFancybox();
    }

    // 初始化轮播组件中的 Medium Zoom
    if (mediumZoomEnabled) {
        initCarouselMediumZoom();
    }

    // 应用主题样式
    applySplideStyle();
}

// 初始化 Splide
function initSplide() {
    const splideElements = document.querySelectorAll('.splide');
    splideElements.forEach(splideEl => {
        const options = JSON.parse(splideEl.getAttribute('data-splide'));
        // 如果轮播组件中只有一张图片，则隐藏箭头
        const slideCount = splideEl.querySelectorAll('.splide__slide').length;
        if (slideCount <= 1) {
            options.arrows = false;
        }
        // 简介设置
        const splide = new Splide(splideEl, options);
        splide.on('mounted move', function () {
            const activeSlide = splide.Components.Slides.getAt(splide.index);
            const caption = activeSlide.slide.dataset.caption;
            const captionId = splideEl.getAttribute('data-caption-id');

            const captionElement = document.getElementById(captionId);
            if (captionElement) {
                captionElement.innerText = caption || '';  // 如果没有简介，设置为空字符串
            }
        });
        splide.mount();
        window.splideInstances.push(splide); // 将实例存储到数组中   
    });
}

// 应用主题明暗样式
function applySplideStyle() {
    const applyThemeStyles = (theme, splideStyles) => {
        const borderColor = theme === 'dark' ? splideStyles.borderColor.dark : splideStyles.borderColor.light;
        const shadowColor = theme === 'dark' ? splideStyles.shadowColor.dark : splideStyles.shadowColor.light;
        document.documentElement.style.setProperty('--carousel-border-color', borderColor);
        document.documentElement.style.setProperty('--carousel-shadow-color', shadowColor);
        document.documentElement.style.setProperty('--carousel-border-radius', splideStyles.borderRadius);
        document.documentElement.style.setProperty('--carousel-arrow-color', splideStyles.arrowColor);
        document.documentElement.style.setProperty('--carousel-arrow-hover-color', splideStyles.arrowHoverColor);
        document.documentElement.style.setProperty('--carousel-pagination-color', splideStyles.paginationColor);
        document.documentElement.style.setProperty('--carousel-pagination-active-color', splideStyles.paginationActiveColor);
        document.documentElement.style.setProperty('--carousel-pagination-hover-color', splideStyles.paginationHoverColor);
    };

    let theme = 'light';
    if (window.splideDarkMode === 'auto') {
        theme = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    } else if (window.splideDarkMode === 'true') {
        theme = 'dark';
    }
    applyThemeStyles(theme, window.splideStyles);

    if (window.splideDarkMode === 'auto') {
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
            applyThemeStyles(e.matches ? 'dark' : 'light', window.splideStyles);
        });
    }
}

// 初始化非轮播图片的 Medium Zoom
function initGlobalMediumZoom() {
    // 检查是否启用 medium-zoom
    if (!mediumZoomEnabled) {
        return;
    }
    const zoomOutsideCarousel = mediumZoom('img:not(.splide .zoomable)', {
        background: 'rgba(0, 0, 0, 0.8)',
        margin: 24
    });
}

// 初始化轮播组件中的 Medium Zoom
function initCarouselMediumZoom() {
    const zoomCarousel = mediumZoom('.zoomable', {
        background: 'rgba(0, 0, 0, 0.8)',
        margin: 24,
        onOpen: (zoom) => {
            const img = zoom.target; // 获取正在缩放的图片
            img.classList.add('zooming'); // 添加一个缩放时的 class
        },
        onClose: (zoom) => {
            const img = zoom.target; // 获取缩放的图片
            img.classList.remove('zooming'); // 移除缩放时的 class
        }
    });

    zoomCarousel.on('open', () => {
        // 隐藏箭头和分页按钮
        document.querySelectorAll('.splide__arrow, .splide__pagination').forEach(el => {
            el.style.display = 'none';
        });
    });

    zoomCarousel.on('close', () => {
        // 重新显示箭头和分页按钮
        document.querySelectorAll('.splide__arrow, .splide__pagination').forEach(el => {
            el.style.display = '';
        });
    });
}

// fancybox 兼容调整
function adjustFancybox() {
    Fancybox.bind("[data-fancybox]", {
        placeFocusBack: false,  // 禁止 Fancybox 关闭时滚动回页面的焦点位置
    });

    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            if (mutation.type === "childList") {
                removeFancyboxFromClones();
            }
        });
    });

    // 观察整个文档的 DOM 变化
    observer.observe(document, { childList: true, subtree: true });
}

// 移除克隆 Slide 中的 Fancybox 链接
function removeFancyboxFromClones() {
    const cloneSlides = document.querySelectorAll('.splide__slide--clone');

    cloneSlides.forEach((slide) => {
        const fancyboxLink = slide.querySelector('a.fancybox');
        if (fancyboxLink) {
            const img = fancyboxLink.querySelector('img');
            if (img) {
                // 将 img 挪出 a 标签
                fancyboxLink.replaceWith(img);
            }
        }
    });
}</script></body></html>