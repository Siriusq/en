<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="msvalidate.01" content="BE3DB9F22A0915AF3452024048D66934"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif:300,300italic,400,400italic,700,700italic%7CFira+Code:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-flash.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"siriusq.top","root":"/en/","images":"/en/images","scheme":"Gemini","darkmode":"auto","version":"8.17.1","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"width":320},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":true,"color":"#222","save":"manual"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":true,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><meta name="description" content="Ever since I couldn&#39;t access Pinterest, I&#39;ve been wanting to write a tutorial for V2Ray, but my procrastination combined with a severe case of laziness delayed it until now, emmm. Although there have"><meta property="og:type" content="article"><meta property="og:title" content="V2Ray"><meta property="og:url" content="https://siriusq.top/en/v2ray.html"><meta property="og:site_name" content="Sirius"><meta property="og:description" content="Ever since I couldn&#39;t access Pinterest, I&#39;ve been wanting to write a tutorial for V2Ray, but my procrastination combined with a severe case of laziness delayed it until now, emmm. Although there have"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://s2.loli.net/2022/06/08/fQNoAIpZeb9laHn.gif"><meta property="article:published_time" content="2019-06-28T04:05:14.000Z"><meta property="article:modified_time" content="2023-09-13T03:31:41.287Z"><meta property="article:author" content="Sirius"><meta property="article:tag" content="V2Ray"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://s2.loli.net/2022/06/08/fQNoAIpZeb9laHn.gif"><link rel="canonical" href="https://siriusq.top/en/v2ray.html"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://siriusq.top/en/v2ray.html","path":"v2ray.html","title":"V2Ray"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>V2Ray | Sirius</title><script src="/en/live2d-widget/autoload.js"></script><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Sirius</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">May the Force be with you</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/en/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/en/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">89</span></a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">8</span></a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">51</span></a></li><li class="menu-item menu-item-tools"><a href="/en/tools/" rel="section"><i class="fa fa-screwdriver-wrench fa-fw"></i>Tools</a></li><li class="menu-item menu-item-switch-to-chinese"><a href="https://siriusq.top/" rel="section"><i class="fa fa-language fa-fw"></i>Switch to Chinese</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Reminder-of-Timeliness"><span class="nav-number">1.</span> <span class="nav-text">Reminder of Timeliness</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Just-My-Socks"><span class="nav-number">2.</span> <span class="nav-text">Just My Socks</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Steps"><span class="nav-number">2.1.</span> <span class="nav-text">Steps</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Notes"><span class="nav-number">2.2.</span> <span class="nav-text">Notes</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#UWP-Internet-Connection-Fix"><span class="nav-number">3.</span> <span class="nav-text">UWP Internet Connection Fix</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Introduction-to-V2Ray"><span class="nav-number">4.</span> <span class="nav-text">Introduction to V2Ray</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Purchasing-a-VPS"><span class="nav-number">5.</span> <span class="nav-text">Purchasing a VPS</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Connecting-to-the-VPS"><span class="nav-number">6.</span> <span class="nav-text">Connecting to the VPS</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Installing-Xshell"><span class="nav-number">6.1.</span> <span class="nav-text">Installing Xshell</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Connecting-to-the-VPS-1"><span class="nav-number">6.2.</span> <span class="nav-text">Connecting to the VPS</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Installing-V2Ray"><span class="nav-number">7.</span> <span class="nav-text">Installing V2Ray</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Client-Configuration"><span class="nav-number">8.</span> <span class="nav-text">Client Configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Windows-Client"><span class="nav-number">8.1.</span> <span class="nav-text">Windows Client</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Installation"><span class="nav-number">8.1.1.</span> <span class="nav-text">Installation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuration"><span class="nav-number">8.1.2.</span> <span class="nav-text">Configuration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Updates"><span class="nav-number">8.1.3.</span> <span class="nav-text">Updates</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Common-Issues"><span class="nav-number">8.1.4.</span> <span class="nav-text">Common Issues</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#iOS-Client"><span class="nav-number">8.2.</span> <span class="nav-text">iOS Client</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Android-Client"><span class="nav-number">8.3.</span> <span class="nav-text">Android Client</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MacOS-Client"><span class="nav-number">8.4.</span> <span class="nav-text">MacOS Client</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-Client"><span class="nav-number">8.5.</span> <span class="nav-text">Linux Client</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Installation-1"><span class="nav-number">8.5.1.</span> <span class="nav-text">Installation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuring-PAC"><span class="nav-number">8.5.2.</span> <span class="nav-text">Configuring PAC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Creating-a-Desktop-Shortcut"><span class="nav-number">8.5.3.</span> <span class="nav-text">Creating a Desktop Shortcut</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Using-Cloudflare-CDN-as-a-Relay-Optional"><span class="nav-number">9.</span> <span class="nav-text">Using Cloudflare CDN as a Relay (Optional)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Purchasing-a-Domain-Name"><span class="nav-number">9.1.</span> <span class="nav-text">Purchasing a Domain Name</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Cloudflare-CDN-Configuration"><span class="nav-number">9.2.</span> <span class="nav-text">Cloudflare CDN Configuration</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#V2Ray-Configuration"><span class="nav-number">9.3.</span> <span class="nav-text">V2Ray Configuration</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Common-Commands-Summary"><span class="nav-number">10.</span> <span class="nav-text">Common Commands Summary</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Sirius" src="https://s2.loli.net/2022/05/23/kxtRKT4u71HXlUY.gif"><p class="site-author-name" itemprop="name">Sirius</p><div class="site-description" itemprop="description">Thread_sleep(1); //be nice to the CPU</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/en/archives/"><span class="site-state-item-count">51</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/en/categories/"><span class="site-state-item-count">8</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/en/tags/"><span class="site-state-item-count">89</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Siriusq" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Siriusq" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:siriuskevin@foxmail.com" title="E-Mail → mailto:siriuskevin@foxmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a></span></div><script src="/en/js/switch_limited.js"></script></div></div><div class="back-to-top animated" role="button" aria-label="Back to top"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://siriusq.top/en/v2ray.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://s2.loli.net/2022/05/23/kxtRKT4u71HXlUY.gif"><meta itemprop="name" content="Sirius"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sirius"><meta itemprop="description" content="Thread_sleep(1); //be nice to the CPU"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="V2Ray | Sirius"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">V2Ray</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2019-06-28 12:05:14" itemprop="dateCreated datePublished" datetime="2019-06-28T12:05:14+08:00">2019-06-28</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2023-09-13 11:31:41" itemprop="dateModified" datetime="2023-09-13T11:31:41+08:00">2023-09-13</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/Geek/" itemprop="url" rel="index"><span itemprop="name">Geek</span></a> </span></span><span class="post-meta-item" title="Views" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">Views: </span><span id="busuanzi_value_page_pv"></span> </span><span class="post-meta-break"></span> <span class="post-meta-item" title="Word count in article"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">Word count in article: </span><span>4.4k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>16 mins.</span></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote class="blockquote-center">Ever since I couldn't access Pinterest, I've been wanting to write a tutorial for V2Ray, but my procrastination combined with a severe case of laziness delayed it until now, emmm. Although there have been rumors circulating in the community about various ways to access Pinterest, the internet speed is quite disappointing, and you never know when it might go down. Additionally, if you don't want to go through the trouble of following this tutorial, you can skip directly to Just My Socks.</blockquote><span id="more"></span><div class="note danger"><h1 id="Reminder-of-Timeliness"><a href="#Reminder-of-Timeliness" class="headerlink" title="Reminder of Timeliness"></a>Reminder of Timeliness</h1><p>This article was written in June 2019! Please be aware that some of the content may have become outdated!</p></div><div class="note warning"><p>This post was translated from my Chinese blog post with the aid of ChatGpt.</p></div><details class="note success"><summary><p>Just My Socks</p></summary><h1 id="Just-My-Socks"><a href="#Just-My-Socks" class="headerlink" title="Just My Socks"></a>Just My Socks</h1><p>The self-built VPN was not stable enough. Later, I directly used <code>Just My Socks,</code> and it’s really good!</p><p><img data-src="https://s2.loli.net/2022/06/08/fQNoAIpZeb9laHn.gif" alt="Delightful.gif"></p><p><code>Just My Socks</code> is a VPN service created by <code>Bandwagon</code> (a VPS provider, commonly known as <code>搬瓦工</code> in China). It utilizes high-quality <code>CN2 GIA</code> network lines from Bandwagon and supports automatic IP switching when faced with censorship. This means that if your IP gets blocked, you don’t have to take any action; <code>Just My Socks</code> will handle everything seamlessly. It’s essentially a ShadowSocks-based service.</p><p>The monthly subscription for this service starts at $2.88 USD, which is approximately ¥19.8 CNY based on the exchange rate as of July 2019. The annual subscription costs ¥198 CNY and supports payment through Alipay.</p><p>Due to strict censorship measures, the official website of <code>Just My Socks</code> has been blocked. You can access their services through an alternative website: <a target="_blank" rel="noopener" href="https://justmysocks1.net/members/cart.php?gid=1">Just My Socks</a>.</p><p>Currently, there are three main packages available: Just My Socks 100, Just My Socks 500, and Just My Socks 1000. Taking Just My Socks 100 as an example, the information on the official website is as follows: <code>100G/mo at 1Gbps | 3 devices,</code> meaning you get 100GB of monthly data with a 1Gbps bandwidth, and it supports up to 3 devices. For most people, this should be sufficient, but if you’re feeling extravagant, you have plenty of options to choose from.</p><h2 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h2><ol><li>Register and log in.</li><li>Choose the desired package and click <code>Order Now.</code></li><li>In the <code>Choose Billing Cycle</code> section, you can select the payment cycle: monthly, quarterly, semi-annually, or annually. Longer cycles offer more significant discounts.</li><li>In the <code>Apply Promo Code</code> field, enter the promo code <code>JMS9272283</code> to enjoy a 5.2% discount. Afterward, click <code>Checkout</code> on the right.</li><li>If you haven’t registered yet, you can continue with the registration process. Fill in your basic information, select <code>China</code> as your country, choose <code>Alipay</code> as your payment method, check the box below for <code>I have read and agree to the Terms of Service,</code> and then click <code>Complete Order.</code> Complete the payment via Alipay.</li><li>After the payment is completed, select <code>Services</code> from the top menu on the official website, and in the drop-down menu, choose <code>My Services.</code> You will see the products you have purchased, with the <code>Status</code> indicating <code>Active,</code> which means they are activated and ready to use.</li><li>Click on your product to access ShadowSocks-related information, including:<ul><li><code>ShadowSocks Encryption</code>: The encryption method.</li><li><code>ShadowSocks Port</code>: The port.</li><li><code>ShadowSocks Password</code>: The password.</li><li><code>ShadowSocks Server IP</code>: The server address (multiple addresses are available and can be used simultaneously).</li></ul></li><li>In the V2Ray client, select a server, click <code>Add ShadowSocks Server,</code> and input the relevant information. You can add multiple servers to prevent issues with a single node. Keep in mind that the automatic detection by <code>Just My Socks</code> may require some time.</li></ol><h2 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h2><p>In the <code>Actions</code> menu on the left side of the page, you can switch ports, passwords, and encryption methods. If you find that your package doesn’t meet your needs or you are unsatisfied, you can use the <code>Actions</code> menu to modify your package or request a refund. In the <code>Overview</code> section, you can change the payment cycle. Note that <strong>password and port changes are auto-generated</strong> and cannot be customized.</p><p>When changes are successful, you will receive a prompt saying, <code>Changes saved. Please wait 1 minute for settings to propagate to all servers.</code> This means you need to wait for 1 minute for the settings to synchronize across all servers. After 1 minute, click on the <code>Service Information</code> on the left, and you will see the updated information.</p><ol><li>To change the password, click <code>Change password.</code></li><li>To change the port, click <code>Change port.</code></li><li>To change the encryption method, click <code>Switch to aes-256-gcm</code> or <code>Switch to aes-256-cfb.</code> It is recommended to choose <code>aes-256-gcm.</code></li><li>To modify your package, click <code>Upgrade/Downgrade.</code> After selecting the appropriate package, proceed with the payment.</li><li>To change the payment cycle, click <code>Modify billing cycle,</code> select the suitable cycle, and then click <code>Change billing cycle</code> at the bottom. You may see a prompt stating, <code>Billing cycle has been modified successfully. Your next invoice will reflect the new billing period,</code> meaning the change has been made but will take effect in the next billing period.</li><li>To request a refund, click <code>Request Refund,</code> and then click <code>Request full refund for this service.</code><br>This process is a bit more complex, and there’s only one refund opportunity per identity. This means if you use the same Alipay account to pay for different accounts, you only have one account’s refund opportunity. Additionally, you must meet the following conditions:<ul><li>The customer’s account has good credibility and hasn’t violated the Terms of Service.</li><li>No previous payments or current disputes.</li><li>Monthly data transmission usage is below 10%.</li><li>The customer account was created within the last 7 days.</li><li>The current customer account hasn’t been refunded before.<br>If you meet these conditions and pass the review, the refund will be returned to the original payment method.</li></ul></li></ol></details><details class="note warning"><summary><p>Fix for UWP Apps Unable to Connect to the Internet When Using a Proxy</p></summary><h1 id="UWP-Internet-Connection-Fix"><a href="#UWP-Internet-Connection-Fix" class="headerlink" title="UWP Internet Connection Fix"></a>UWP Internet Connection Fix</h1><p>After enabling a proxy, UWP applications such as the Microsoft Store and OneNote UWP may encounter issues connecting to the internet. Here’s how to fix it:</p><ol><li>Open V2RayN’s <code>Settings</code> - <code>Parameter Settings</code> - <code>V2RayN Settings</code> - <code>Disable Windows 10 UWP App Loopback Proxy Restriction</code>.</li><li>Run as an administrator.</li><li>There may be a warning popup; you can ignore it.</li><li>Locate the corresponding app and check the checkbox in front of its name.</li><li>Click <code>Save Changes</code> to complete the setup.</li></ol></details><h1 id="Introduction-to-V2Ray"><a href="#Introduction-to-V2Ray" class="headerlink" title="Introduction to V2Ray"></a>Introduction to V2Ray</h1><p>The V2Ray project is a fundamental network communication tool under Project V. The <a target="_blank" rel="noopener" href="https://www.v2ray.com/">official website</a> is now a 404 page. Compared to Shadowsocks, V2Ray offers more advanced functionality but comes with relatively more complex configuration. Its primary advantages include:</p><ul><li>More comprehensive protocols: V2Ray uses the newly developed VMess protocol, which addresses some of the shortcomings of Shadowsocks, making it harder for the Great Firewall (GFW) to detect.</li><li>Enhanced performance: V2Ray offers better network performance. You can find specific data on the <a target="_blank" rel="noopener" href="https://steemit.com/cn/@v2ray/3cjiux">V2Ray official blog</a>.</li><li>Richer features: Here are some of V2Ray’s features:<ul><li>mKCP: The implementation of the KCP protocol in V2Ray, eliminating the need for a separate installation of kcptun.</li><li>Dynamic Port: Changes communication ports dynamically to counteract restrictions and throttling on long-duration high-traffic ports.</li><li>Routing Functionality: Allows you to specify the flow of specific data packets, enabling features like ad blocking and anti-tracking.</li><li>Outbound Proxy: Similar to Tor’s proxy, offering multi-hop proxy capabilities.</li><li>Packet Obfuscation: Similar to the obfuscation in Shadowsocks-rss, including the ability to obfuscate mKCP packets, making it harder to identify common traffic patterns.</li><li>WebSocket Protocol: You can deploy V2Ray on PaaS platforms using the WebSocket protocol for proxying. It can also be used with CDNs for improved censorship resistance.</li><li>Mux: Multiplexing, further enhancing the concurrent performance of circumventing internet censorship.</li></ul></li></ul><h1 id="Purchasing-a-VPS"><a href="#Purchasing-a-VPS" class="headerlink" title="Purchasing a VPS"></a>Purchasing a VPS</h1><p>In simple terms, the principle behind FQ (Fang Qiang) is to use devices in China to connect to foreign servers (the VPS you’re about to purchase). Then, it routes your traffic through the foreign server to access websites that are otherwise blocked (e.g., 404 errors), and the data is returned to your device. So, you need to buy an overseas server.</p><p>There are many options for server locations, including countries like Hong Kong, Singapore, Japan, the United States, and more. Some service providers include <a target="_blank" rel="noopener" href="https://www.vultr.com/">Vultr</a> and <a target="_blank" rel="noopener" href="https://bandwagonhost.com/">Bandwagon</a>. You can find more information about VPS providers on <a target="_blank" rel="noopener" href="https://blog.phpgao.com/vpses.html">this blogger’s website</a>. Many popular VPS providers now support payment methods like Alipay and WeChat Pay, and they often offer various promotional deals.</p><p>Here, I’ll use <a target="_blank" rel="noopener" href="https://www.vultr.com/">Vultr</a> as an example:</p><ol><li>Go to the official Vultr website and enter your email address and password in the middle columns. Then, click <code>Create account.</code></li><li>On the redirected page, click <code>Billing</code> on the left and choose your preferred payment method and the amount to recharge. Vultr supports Alipay and WeChat Pay, which are commonly used payment methods in China. You can also use a credit card that supports USD payments.</li><li>Check the <code>I Agree to the Terms of Service</code> box. For Alipay, click <code>Pay with Alipay</code>; for WeChat, choose <code>Generate QR Code</code> to make the payment.</li><li>Click the <code>Products</code> button on the left to switch to the products page.</li><li>Under <code>Choose Server,</code> select <code>Cloud Compute.</code></li><li>In <code>Cloud Compute,</code> choose the server region. Typically, Tokyo and Los Angeles offer faster speeds.</li><li>In <code>Server Type,</code> select the server’s operating system. Typically, you’d choose a Linux system to minimize memory usage, such as <code>CentOS</code> or <code>Ubuntu.</code></li><li>In <code>Server Size,</code> choose the appropriate hardware configuration and bandwidth. Generally, selecting <code>1 CPU</code> and <code>512MB</code> of memory is sufficient. Note that some discounted VPS plans only offer IPv4 addresses, so regular users should avoid these.</li><li>You don’t need to fill in the other options. Just click <code>Deploy Now</code> in the bottom right corner.</li><li>You’ll be redirected to a <code>Server added successfully</code> page, and it will display <code>Installing</code> at the bottom right.</li><li>Once the installation is complete, you’ll see information like the username, password, IP address, etc. Make sure to remember this information; you’ll need it later.</li></ol><h1 id="Connecting-to-the-VPS"><a href="#Connecting-to-the-VPS" class="headerlink" title="Connecting to the VPS"></a>Connecting to the VPS</h1><h2 id="Installing-Xshell"><a href="#Installing-Xshell" class="headerlink" title="Installing Xshell"></a>Installing Xshell</h2><p>Remote connections require <a target="_blank" rel="noopener" href="https://www.netsarang.com/zh/free-for-home-school/">Xshell</a>. Enter your name and email to obtain the download link and install it.</p><h2 id="Connecting-to-the-VPS-1"><a href="#Connecting-to-the-VPS-1" class="headerlink" title="Connecting to the VPS"></a>Connecting to the VPS</h2><ol><li>Open Xshell.</li><li>Click <code>File</code> in the top menu and select <code>New.</code></li><li>In the <code>Name</code> field, enter a name that is easy to identify.</li><li>In the <code>Host</code> field, enter the IP address of your VPS and click <code>OK.</code></li><li>You’ll be prompted to save the SSH key; click <code>Accept and Save.</code></li><li>If it asks for a username, enter <code>root.</code></li><li>Enter the VPS password and click <code>OK</code> to establish the connection.</li></ol><h1 id="Installing-V2Ray"><a href="#Installing-V2Ray" class="headerlink" title="Installing V2Ray"></a>Installing V2Ray</h1><p>The manual installation process for V2Ray can be quite cumbersome, but some experts have created one-click installation scripts. You can directly install and use V2Ray using the following steps:</p><ol><li>In the <code>Xshell</code> window where you successfully connected in the previous step, use <code>Shift + Insert</code> to paste the following command:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -s -L https://git.io/v2ray.sh)</span><br></pre></td></tr></table></figure><ul><li>If it prompts <code>curl: command not found</code>, you need to install <code>curl</code> with the following commands:<ul><li>For Ubuntu&#x2F;Debian: <code>apt-get update -y &amp;&amp; apt-get install curl -y</code></li><li>For CentOS: <code>yum update -y &amp;&amp; yum install curl -y</code></li></ul></li></ul></li><li>Press <code>1</code> and Enter to select the installation.</li><li>Choose the V2Ray transmission protocol. There are 17 options, and there are comments for each:<ul><li>You can choose TCP, the default, for simplicity.</li><li>Alternatively, you can choose mKCP_wechat-vedio_dynamicPort for WeChat optimization and dynamic port setting, which can help prevent censorship to some extent. However, its effectiveness varies, and mKCP can also speed up your connection but may be subject to QoS restrictions by your ISP.</li><li>A more reliable method is to use WebSocket+TLS in combination with Cloudflare for IP obfuscation, which will be explained later.</li></ul></li><li>Choose a V2Ray port. You can either enter a custom port or use the default by pressing Enter. The port value should be between 1 and 65535, avoiding commonly used ports like 80 and 443.</li><li>Press Enter for the default values for other settings.</li><li>You’ll receive a prompt before installation; if everything looks correct, press Enter.</li><li>Wait for a moment. If you see any prompts you don’t understand, simply press Enter to proceed.</li><li>Enter <code>v2ray start</code> to start the V2Ray service.</li><li>Enter <code>v2ray status</code> and press Enter to check if V2Ray is running. If it returns <code>V2Ray 状态: 正在运行</code> (V2Ray Status: Running), the installation was successful.</li><li>For CentOS 6 and 7, you need to disable the firewall using the following commands:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl disable firewalld</span><br></pre></td></tr></table></figure></li></ol><p>With these steps, the configuration on your VPS is complete.</p><h1 id="Client-Configuration"><a href="#Client-Configuration" class="headerlink" title="Client Configuration"></a>Client Configuration</h1><p>While connected to your VPS in Xshell, use the <code>v2ray url</code> command to generate a VMess link, and copy it for later use.</p><p>The official V2Ray version does not have a GUI interface, which can be a bit cumbersome for general users. Fortunately, there are V2Ray client applications available for various platforms that make the setup more user-friendly.</p><h2 id="Windows-Client"><a href="#Windows-Client" class="headerlink" title="Windows Client"></a>Windows Client</h2><h3 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h3><p>The Windows client used for V2Ray is V2RayN. Before installing the client, you need to download and extract V2Ray, and then download the V2RayN archive and extract it to the same folder. Here are the download links:</p><a class="btn" target="_blank" rel="noopener" href="https://github.com/v2ray/v2ray-core/releases">Download V2Ray</a> <a class="btn" target="_blank" rel="noopener" href="https://github.com/2dust/v2rayN/releases">Download V2RayN</a><p>Choose <code>v2ray-windows-64.zip</code> for V2Ray and <code>v2rayN.zip</code> for V2RayN. To make it convenient, you can create a desktop shortcut for the <code>V2RayN.exe</code> inside the folder by right-clicking and selecting <code>Create shortcut.</code> This way, you can simply double-click the shortcut to open it in the future.</p><h3 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h3><p>First, copy the VMess link you generated earlier. Then, open <code>V2RayN.exe</code>. Click on the top menu <code>Servers</code> to open the dropdown menu and select <code>Import URLs from clipboard.</code> If you have multiple servers, it’s recommended to modify the aliases for easy identification.</p><p>To save bandwidth, it’s essential to enable PAC. In the global mode, all your traffic goes through your server, while PAC checks whether the websites you want to visit are in its rules. If they are, it connects through the proxy server; otherwise, it bypasses the proxy server and connects directly. Here’s how to set it up:</p><ol><li>Find the V2RayN icon in the taskbar at the bottom right corner of your screen, right-click it, and select <code>Enable HTTP Proxy.</code> Set the <code>HTTP Proxy Mode</code> to <code>Enable HTTP proxy and automatically configure the proxy server (global mode).</code></li><li>Then, open V2RayN, click on the top menu <code>Check for updates</code> to open the dropdown menu, and select <code>Check for PAC update.</code> Wait for the update to complete, and then set the <code>HTTP Proxy Mode</code> to <code>Enable PAC and automatically configure PAC (PAC mode).</code></li></ol><h3 id="Updates"><a href="#Updates" class="headerlink" title="Updates"></a>Updates</h3><p>You can check for updates using the <code>Check for updates</code> option within V2RayN. It’s advisable to keep <code>V2RayCore</code> and <code>V2RayN</code> up to date. The PAC file typically needs updating every one or two months.</p><h3 id="Common-Issues"><a href="#Common-Issues" class="headerlink" title="Common Issues"></a>Common Issues</h3><ol><li>Sometimes, there might be unresponsive issues that are hard to pinpoint, possibly due to Windows 10 or V2Ray. In such cases, it may appear as if the connections are blocked. You can resolve this issue by resetting your network. Here are the steps: In Windows 10 settings, select <code>Network &amp; Internet,</code> go to <code>Status,</code> and find the <code>Network reset</code> option. It will prompt you to log out within a few seconds. Simply restart your computer manually, and after the reboot, starting V2RayN should resolve the issue.</li><li>Occasionally, you might find that all websites are inaccessible. This can happen when you exit V2Ray but still have it in global mode. To solve this, open V2RayN and switch the <code>HTTP Proxy Mode</code> to <code>PAC mode.</code></li></ol><h2 id="iOS-Client"><a href="#iOS-Client" class="headerlink" title="iOS Client"></a>iOS Client</h2><p>There are several iOS clients for V2Ray, including Kitsunebi, Shadowrocket, Pepi, and Kitsunebi Lite. However, these apps have all been removed from the Chinese App Store. To use them, you can:</p><ul><li>Register an Apple ID in a non-Chinese region.</li><li>Purchase an Apple ID that has already bought one of the mentioned apps from a marketplace like Taobao.</li></ul><p>I’ll provide an example using Kitsunebi Lite:</p><ol><li>Open the Kitsunebi Lite app.</li><li>Tap the <code>+</code> icon in the upper right corner.</li><li>Choose <code>URL Import.</code></li><li>Paste the VMess link and tap <code>YES.</code></li><li>Go back to the main page and set the mode to <code>Auto.</code></li><li>Tap the switch at the top to enable the connection.</li></ol><h2 id="Android-Client"><a href="#Android-Client" class="headerlink" title="Android Client"></a>Android Client</h2><p>For Android, two main apps are V2RayNG and BifrostV. You can find them on Google Play, and V2RayNG also has a <a target="_blank" rel="noopener" href="https://github.com/2dust/v2rayNG/releases">GitHub link</a> for direct download. Here are the general steps:</p><ol><li>Download and install <a target="_blank" rel="noopener" href="https://play.google.com/store/apps/details?id=com.v2ray.ang">V2RayNG from Google Play</a> or <a target="_blank" rel="noopener" href="https://github.com/2dust/v2rayNG/releases">directly from GitHub</a> by downloading the <code>app-universal-release.apk</code>.</li><li>Open the app and tap the <code>+</code> icon in the upper right corner.</li><li>Choose <code>Import from Clipboard.</code></li><li>Tap the button in the lower right corner to enable the connection.</li></ol><h2 id="MacOS-Client"><a href="#MacOS-Client" class="headerlink" title="MacOS Client"></a>MacOS Client</h2><p>For MacOS, you can use V2RayX. Here’s how to set it up:</p><ol><li>Download <a target="_blank" rel="noopener" href="https://github.com/insisttech/v2rayX-copy/releases">V2RayX</a>. You may find a file named <code>V2RayX.app-1.2.0.zip</code> or something similar. Extract it, and then copy <code>V2RayX.app</code> to your <code>Applications</code> folder.</li><li>When you open it for the first time, you’ll see a security prompt. Click <code>Open</code> or <code>Allow</code> in all the pop-up windows that appear. Then, go to <code>System Preferences</code> &gt; <code>Security &amp; Privacy.</code> You will see a message about V2RayX being from an unidentified developer. Click <code>Open Anyway</code> to confirm. Now you should see the V2RayX icon in your menu bar.</li><li>Click the V2RayX icon and then click <code>Configure.</code> For TCP mode, you can configure it on this page by filling in the parameters from your VPS. For mKCP and WebSocket+TLS, you’ll need to click <code>transport settings</code> at the bottom of the page to enter advanced settings.</li><li>After configuring, click <code>OK.</code> You’ll get a popup asking if you want to save the configuration. Click <code>Yes, save!</code></li><li>Click the V2RayX icon again. You can switch between <code>Global Mode</code> and <code>PAC Mode.</code></li><li>Click <code>Start V2Ray</code> to enable the connection.</li></ol><h2 id="Linux-Client"><a href="#Linux-Client" class="headerlink" title="Linux Client"></a>Linux Client</h2><p>As the wise saying goes, <code>If you&#39;re already using Linux, what client do you need?</code> Linux doesn’t have a GUI client, so we’ll have to go the command-line route.</p><h3 id="Installation-1"><a href="#Installation-1" class="headerlink" title="Installation"></a>Installation</h3><ol><li>Start by downloading the V2Ray package from <a target="_blank" rel="noopener" href="https://github.com/v2ray/v2ray-core/releases/">V2Ray’s GitHub</a>. Choose either <code>V2Ray-linux-64</code> or <code>V2Ray-linux-32</code> for Intel architecture, or <code>V2Ray-linux-arm64</code> or <code>V2Ray-linux-arm</code> for ARM architecture, depending on your system.</li><li>Once the download is complete, unzip the package.</li><li>Open the unzipped folder, delete the <code>vpoint_vmess_freedom.json</code> file, and create your own <code>config.json</code> file. It’s recommended to export this file directly from the Windows client. In the Windows client, click on the server dropdown menu, and select <code>Export selected server to client configuration.</code></li><li>In the terminal, navigate to the folder where you unzipped V2Ray and execute the command <code>sudo ./v2ray</code> to start the client.</li></ol><h3 id="Configuring-PAC"><a href="#Configuring-PAC" class="headerlink" title="Configuring PAC"></a>Configuring PAC</h3><p>V2Ray alone isn’t enough for seamless usage; you’ll also need to configure a PAC (Proxy Auto-Config) file.</p><ol><li>First, install the <code>pip</code> tool by running the command <code>apt install python-pip</code>. After installation, check if it’s installed successfully by running <code>pip -V</code>. It should return the version of pip.</li><li>Install <code>genpac</code> by running <code>pip install genpac</code>. You should see <code>Successfully installed genpac-xxx</code> when it’s done.</li><li>Execute the command <code>genpac --format=pac -o auto.pac --pac-proxy=&quot;SOCKS5 127.0.0.1:1080&quot;</code>. If there’s no output, it was successful. Otherwise, make adjustments based on the returned value.</li><li>Open your system settings. In the case of Fedora, click on <code>Network,</code> open the <code>Network Proxy</code> menu, and set it to <code>Automatic.</code></li><li>Download a PAC file from Google.</li><li>In the <code>Configuration URL</code> field at the bottom, enter the absolute path to your PAC file in the format <code>file://path</code>.</li></ol><h3 id="Creating-a-Desktop-Shortcut"><a href="#Creating-a-Desktop-Shortcut" class="headerlink" title="Creating a Desktop Shortcut"></a>Creating a Desktop Shortcut</h3><p>Typing in commands every time can be inconvenient, so let’s create a desktop shortcut or add it to the applications list (wink).</p><ol><li>Create a file in the folder called <code>v2ray.desktop</code>. Paste the following code into it, then copy it to the <code>/usr/share/applications</code> folder. This process requires root permissions.<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Name=V2Ray</span><br><span class="line">GenericName=V2Ray Client</span><br><span class="line">Comment=A platform <span class="keyword">for</span> building proxies to bypass network restrictions.</span><br><span class="line">Exec=/<span class="built_in">path</span>/to/your/folder/v2ray --config=/<span class="built_in">path</span>/to/your/folder/config.json</span><br><span class="line">Icon=/<span class="built_in">path</span>/to/your/custom/icon/image</span><br><span class="line">Terminal=true</span><br><span class="line"><span class="built_in">Type</span>=Application</span><br><span class="line">Categories=Network;Internet;</span><br></pre></td></tr></table></figure></li><li>Change the file’s permissions to <code>Allow executing file as program.</code></li></ol><p>You can download the icon file from the <a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1yf4Rkmuy7h65z8XC77SAdg#list/path=%2F">Baidu Pan</a> shared by the community. The extraction code is <code>hc82</code>.</p><p>Now, you can enjoy using V2Ray on Linux (wink).</p><h1 id="Using-Cloudflare-CDN-as-a-Relay-Optional"><a href="#Using-Cloudflare-CDN-as-a-Relay-Optional" class="headerlink" title="Using Cloudflare CDN as a Relay (Optional)"></a>Using Cloudflare CDN as a Relay (Optional)</h1><p>Currently, the Great Firewall of China (GFW) mainly blocks your VPS by IP. The solution to this is to relay your traffic through Cloudflare because the firewall won’t know your VPS’s IP anymore (wink). Another advantage of this method is that it can restore access to blocked IPs (wink +1).</p><p>Although CDN relaying can effectively prevent your IP from being blocked, the setup is somewhat complicated, it can increase latency, and you’ll need to buy a domain name. If you’d rather skip this step, that’s fine. I didn’t use this method for my first setup; I went with mKCP. It took almost a year before I got blocked, and I was able to restore access using this method.</p><h2 id="Purchasing-a-Domain-Name"><a href="#Purchasing-a-Domain-Name" class="headerlink" title="Purchasing a Domain Name"></a>Purchasing a Domain Name</h2><p>I recommend buying your domain name from <a target="_blank" rel="noopener" href="https://sg.godaddy.com/zh">Godaddy</a>. They are one of the largest domain name providers globally, and you don’t need real-name verification. You can also use Alibaba Cloud and Tencent Cloud from within China, but let’s not dwell on that 2333.</p><ol><li>First, open <a target="_blank" rel="noopener" href="https://sg.godaddy.com/zh">Godaddy</a> and register. The email, username, and password part is self-explanatory.</li><li>After registration, go back to the homepage and search for the domain name you want. Click <code>Add to Cart,</code> and then click <code>Go to Cart</code> at the top.</li><li>On the next page, you may be prompted to buy privacy services and a Linux host. Opt not to buy any of these, and click <code>Go to Cart</code> below.</li><li>On the checkout information page, feel free to enter any information except for your phone number. Change the <code>2 Years</code> option to <code>1 Year</code> because the two-year plan is significantly more expensive. Choose one year and renew it later if needed.</li><li>The payment process should be straightforward.</li></ol><h2 id="Cloudflare-CDN-Configuration"><a href="#Cloudflare-CDN-Configuration" class="headerlink" title="Cloudflare CDN Configuration"></a>Cloudflare CDN Configuration</h2><p>Cloudflare CDN is the key to preventing your IP from being blocked, and it offers free CDN services.</p><ol><li>Register with your email and password on Cloudflare. The registration process is straightforward.</li><li>After registration, click the blue <code>+Add Site</code> button.</li><li>Enter the domain name you just purchased from Godaddy and click the <code>Add Site</code> button below.</li><li>Click the <code>Next</code> button.</li><li>Choose the <code>Free</code> plan and click <code>Confirm plan.</code> In the pop-up window, click <code>Confirm</code> again.</li><li>On the DNS page, you’ll see two records generated by Cloudflare. Click the blue <code>Add Record</code> button. For the first field, select <code>A.</code> In the second field, enter a domain name prefix, such as <code>test,</code> to create a subdomain. In the third field, enter your VPS’s IP address. Leave the fourth field empty.</li><li>Click <code>Add Record.</code></li><li>Click the orange cloud icon under <code>Status</code> to make it <strong>gray</strong>, indicating DNS Only, and then click <code>Continue.</code></li><li>Here, you’ll be prompted to update your domain name servers. The page will provide you with two domain name server addresses, which you’ll need to modify on the domain name provider’s website.</li><li>Open <a target="_blank" rel="noopener" href="https://sg.godaddy.com/zh">Godaddy</a> and click your username in the upper right corner to open the dropdown menu. Then, click <code>My Products.</code></li><li>Click <code>DNS</code> next to your domain name.</li><li>On the redirected page, click the blue <code>Change</code> button.</li><li>Choose <code>Custom</code> and remove any other domain name servers if present. Paste the two domain name server addresses provided by Cloudflare and click <code>Save.</code></li><li>Return to the Cloudflare page and continue by clicking <code>Continue.</code> If it tells you that you haven’t updated the domain name servers yet, wait for a while (from a few minutes to a few hours) for the changes to take effect. When the domain name servers are active, Cloudflare will send you an email. Alternatively, if the page says, <code>Great news! Cloudflare is now protecting your site,</code> it means it’s ready to use.</li></ol><h2 id="V2Ray-Configuration"><a href="#V2Ray-Configuration" class="headerlink" title="V2Ray Configuration"></a>V2Ray Configuration</h2><p>Previously, we used the mKCP protocol. Now, we need to switch to <code>WebSocket+TLS</code>.</p><ol><li>Connect to your VPS using Xshell.</li><li>Enter the command <code>v2ray config</code> and press Enter.</li><li>Modify the transport protocol to <code>WebSocket+TLS</code>.</li><li>Enter your subdomain and press Enter, e.g., <code>test.xxxxx.xxx</code>.</li><li>Confirm that the domain is correct and press Enter.</li><li>If there is an error in domain resolution, an error message will be displayed, and the script will exit.</li><li>Choose <code>Y</code> for <code>Whether to configure TLS automatically</code> and press Enter.</li><li>Leave other options as their defaults.</li><li>Enter <code>v2ray status</code> to check the V2Ray status and make sure both V2Ray and Caddy are running.</li><li>Enter <code>v2ray url</code> to generate a VMess link and copy it.</li><li>Go back to the Cloudflare domain management page, click on the <code>Crypto</code> tab, set the SSL option to <code>Full</code>, and make sure the <code>Universal SSL Status</code> is <code>Active Certificate</code>. If it’s not active, you might need to wait for a while until the certificate is issued. It usually happens quickly but may take up to 24 hours in rare cases.</li><li>Open the <code>DNS</code> option in Cloudflare, click on the gray cloud icon under <code>Status,</code> and change it back to orange.</li><li>Reimport the VMess connection you copied earlier into your client, and you’re done.</li></ol><h1 id="Common-Commands-Summary"><a href="#Common-Commands-Summary" class="headerlink" title="Common Commands Summary"></a>Common Commands Summary</h1><ul><li>Start V2Ray: <code>v2ray start</code></li><li>Stop V2Ray: <code>v2ray stop</code></li><li>Restart V2Ray: <code>v2ray restart</code></li><li>Update V2Ray: <code>v2ray update</code></li><li>Update V2Ray management script: <code>v2ray update</code></li><li>Check V2Ray status: <code>v2ray status</code></li><li>View V2Ray configuration: <code>v2ray inf</code></li><li>Modify V2Ray configuration: <code>v2ray config</code></li><li>Generate configuration file link: <code>v2ray link</code></li><li>Generate configuration information link: <code>v2ray infolink</code></li><li>Generate configuration QR code link: <code>v2ray qr</code></li><li>View V2Ray logs: <code>v2ray log</code></li><li>Generate VMess link: <code>v2ray url</code></li></ul><p><strong>Technology is blameless.</strong></p><blockquote><p>References：<a target="_blank" rel="noopener" href="https://github.com/233boy/v2ray/wiki/V2Ray%E6%90%AD%E5%BB%BA%E8%AF%A6%E7%BB%86%E5%9B%BE%E6%96%87%E6%95%99%E7%A8%8B">233boy</a>、<a target="_blank" rel="noopener" href="https://www.i5seo.com/">长沙SEO霜天博客</a>、<a target="_blank" rel="noopener" href="https://blog.sprov.xyz/2019/03/11/cdn-v2ray-safe-proxy/">sprov</a>、<a target="_blank" rel="noopener" href="https://octopuspalm.top/2018/08/18/Linux%20%E7%B3%BB%E7%BB%9F%E4%B8%8Bv2ray%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BD%BF%E7%94%A8/">THE WORLD OF ABCDLSJ</a></p></blockquote></div><footer class="post-footer"><div><div style="text-align:center;color:#ccc;font-size:14px">---------- This article ends here. <i class="fa fa-dice-d20"></i> Thank you for reading! ----------</div></div><div class="post-copyright"><ul><li class="post-copyright-author"><strong>Post author: </strong>Sirius</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://siriusq.top/en/v2ray.html" title="V2Ray">https://siriusq.top/en/v2ray.html</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="post-tags"><a href="/en/tags/V2Ray/" rel="tag"><i class="fa fa-tag"></i> V2Ray</a></div><div class="post-nav"><div class="post-nav-item"><a href="/en/grasshopper.html" rel="prev" title="Grasshopper"><i class="fa fa-chevron-left"></i> Grasshopper</a></div><div class="post-nav-item"><a href="/en/ryzen-hackintosh.html" rel="next" title="Ryzen Hackintosh">Ryzen Hackintosh <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments gitalk-container"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Sirius</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span title="Word count total">105k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="Reading time total">6:22</span></span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="Total Visitors"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="Total Views"><span id="busuanzi_value_site_pv"></span></span></span></div><div><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>var now=new Date;function createtime(){var n=new Date("03/31/2019 00:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="This site has been running safely for "+dnum+" days ",document.getElementById("times").innerHTML=hnum+" hrs "+mnum+" mins "+snum+" secs"}setInterval("createtime()",250)</script></div></div></footer><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/next-boot.js"></script><script src="/en/js/bookmark.js"></script><script src="/en/js/pjax.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script src="/en/js/third-party/fancybox.js"></script><script src="/en/js/third-party/pace.js"></script><script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script><script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://siriusq.top/en/v2ray.html"}</script><script src="/en/js/third-party/quicklink.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous"><script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"Siriusq","repo":"gitalk-commnet","client_id":"4217cae26df745a55acd","client_secret":"b7f2cc0c82be38a4e0f294f12f761bc4799669cd","admin_user":"Siriusq","distraction_free_mode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":"en","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"a728aab4ebfc7631627d8bea2be320f0"}</script><script src="/en/js/third-party/comments/gitalk.js"></script><script type="text/javascript" src="/en/js/crash_cheat.js"></script><script async src="/en/js/fireworks.js"></script></body></html>